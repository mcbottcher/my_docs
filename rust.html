<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rust &mdash; MyDocs 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=e031e9a9"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({"startOnLoad": true})</script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="üßú‚Äç‚ôÄÔ∏è Mermaid" href="mermaid.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            MyDocs
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="github_actions.html">GitHub Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="pytest.html">PyTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="yocto.html">Yocto</a></li>
<li class="toctree-l1"><a class="reference internal" href="uboot.html">U-Boot</a></li>
<li class="toctree-l1"><a class="reference internal" href="systemd.html">SystemD</a></li>
<li class="toctree-l1"><a class="reference internal" href="python.html">üêç Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="linux_commands.html">Linux Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="ssh.html">SSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="bash.html">Bash</a></li>
<li class="toctree-l1"><a class="reference internal" href="git.html">Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="jinja.html">ü•∑ Jinja</a></li>
<li class="toctree-l1"><a class="reference internal" href="mermaid.html">üßú‚Äç‚ôÄÔ∏è Mermaid</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Rust</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installing-rust">Installing Rust</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#updating-rust">Updating rust</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#basic-hello-world">Basic Hello World</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cargo">Cargo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#release-build">Release build</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#programming-concepts">Programming Concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#variables-and-mutability">Variables and Mutability</a></li>
<li class="toctree-l3"><a class="reference internal" href="#constants">Constants</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shadowing">Shadowing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-types">Data Types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#integer">Integer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#floats">floats</a></li>
<li class="toctree-l4"><a class="reference internal" href="#booleans">booleans</a></li>
<li class="toctree-l4"><a class="reference internal" href="#characters">characters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#compound-types">Compound Types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tuple">Tuple</a></li>
<li class="toctree-l4"><a class="reference internal" href="#array">Array</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#statements-and-expressions">Statements and Expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#function-return-values">Function return values</a></li>
<li class="toctree-l3"><a class="reference internal" href="#control-flow">Control Flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#if-expression">if expression</a></li>
<li class="toctree-l4"><a class="reference internal" href="#loop">Loop</a></li>
<li class="toctree-l4"><a class="reference internal" href="#while-loop">While loop</a></li>
<li class="toctree-l4"><a class="reference internal" href="#for-loop">for loop</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#guessing-game-example-misc">Guessing Game Example - Misc.</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ownership">Ownership</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#move">Move</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clone">Clone</a></li>
<li class="toctree-l3"><a class="reference internal" href="#function-calls">Function Calls</a></li>
<li class="toctree-l3"><a class="reference internal" href="#references-and-borrowing">References and Borrowing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-slice-type">The Slice Type</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#structures">Structures</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#struct-update-syntax">Struct update syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tuple-structs">Tuple Structs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-area-of-a-rectangle">Example - Area of a rectangle</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#print-trait">Print trait</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#struct-methods">Struct Methods</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#associated-functions">Associated Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#enums">Enums</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#option-enum">Option Enum</a></li>
<li class="toctree-l3"><a class="reference internal" href="#match-control">Match Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="#catch-all-patterns">Catch-all Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#if-let">if let</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#packages-and-crates">Packages and Crates</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#declaring-modules">Declaring Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#defining-modules">Defining Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#referencing-modules">Referencing Modules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-pub-keywork">The <code class="docutils literal notranslate"><span class="pre">pub</span></code> keywork</a></li>
<li class="toctree-l4"><a class="reference internal" href="#relative-path-with-super">Relative path with super</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#public-structs-and-enums">Public Structs and Enums</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-use-keyword">The <code class="docutils literal notranslate"><span class="pre">use</span></code> keyword</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nested-paths-and-globs">Nested Paths and Globs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#modules-in-different-files">Modules in different files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#release-profiles">Release Profiles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#publishing-a-crate">Publishing a crate</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exporting-a-public-api">Exporting a public API</a></li>
<li class="toctree-l3"><a class="reference internal" href="#publishing">Publishing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cargo-workspaces">Cargo Workspaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-binaries">Installing binaries</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#collections">Collections</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#vectors">Vectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#string">String</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hash-maps">Hash Maps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">Ownership</a></li>
<li class="toctree-l4"><a class="reference internal" href="#updating-a-hashmap">Updating a HashMap</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#error-handling">Error Handling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#recoverable-errors">Recoverable Errors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#propogating-errors">Propogating errors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#custom-type-for-validation">Custom Type for Validation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#generic-types-traits-lifetimes">Generic Types, Traits, Lifetimes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#generic-types">Generic Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#traits">Traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lifetimes">Lifetimes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#static-lifetime">Static lifetime</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#automated-tests">Automated Tests</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#checking-results">Checking results</a></li>
<li class="toctree-l3"><a class="reference internal" href="#test-flow-control">Test Flow Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="#test-organisation">Test Organisation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#unit-tests">Unit tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="#integration-tests">Integration Tests</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#command-line-program-notes">Command Line Program - Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#iterators-and-closures">Iterators and Closures</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#closures">Closures</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iterators">Iterators</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#smart-pointers">Smart Pointers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#box-t">Box&lt;T&gt;</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deref">Deref</a></li>
<li class="toctree-l3"><a class="reference internal" href="#drop-trait">Drop Trait</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rc-t-reference-counted-smart-pointer">Rc&lt;T&gt; - Reference Counted Smart Pointer</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MyDocs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Rust</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/rust.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="rust">
<h1>Rust<a class="headerlink" href="#rust" title="Permalink to this heading">ÔÉÅ</a></h1>
<section id="installing-rust">
<h2>Installing Rust<a class="headerlink" href="#installing-rust" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>On linux:</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Command for installing rust</span><a class="headerlink" href="#id2" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>--proto<span class="w"> </span><span class="s2">&quot;=https&quot;</span><span class="w"> </span>--tlsv1.3<span class="w"> </span>https://sh.rustup.rs<span class="w"> </span>-sSf<span class="w"> </span><span class="p">|</span><span class="w"> </span>sh
</pre></div>
</div>
</div>
<p>You will also need a linker/C-compiler, which you can install with for example:</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">Install GCC on Ubuntu</span><a class="headerlink" href="#id3" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>build-essential
</pre></div>
</div>
</div>
<section id="updating-rust">
<h3>Updating rust<a class="headerlink" href="#updating-rust" title="Permalink to this heading">ÔÉÅ</a></h3>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">Updating rust</span><a class="headerlink" href="#id4" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>rustup<span class="w"> </span>update
</pre></div>
</div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="basic-hello-world">
<h2>Basic Hello World<a class="headerlink" href="#basic-hello-world" title="Permalink to this heading">ÔÉÅ</a></h2>
<ol class="arabic simple">
<li><p>Create a file called <code class="docutils literal notranslate"><span class="pre">main.rs</span></code></p></li>
<li><p>Enter code:</p></li>
</ol>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">Hello World program</span><a class="headerlink" href="#id5" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Hello World!&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<ol class="arabic simple" start="3">
<li><p>Compile with <code class="docutils literal notranslate"><span class="pre">rustc</span> <span class="pre">main.rs</span></code></p></li>
<li><p>Run with <code class="docutils literal notranslate"><span class="pre">./main</span></code></p></li>
</ol>
</section>
<hr class="docutils" />
<section id="cargo">
<h2>Cargo<a class="headerlink" href="#cargo" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>Cargo is rust‚Äôs build system and package manager.</p>
<p>Create a new cargo project with:</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">Creating a new cargo project</span><a class="headerlink" href="#id6" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cargo<span class="w"> </span>new<span class="w"> </span>&lt;project_name&gt;
</pre></div>
</div>
</div>
<p>This will initialise a project, and also by default creates a new git repo (unless you are
already in a git repo).</p>
<p>You will have a <code class="docutils literal notranslate"><span class="pre">Cargo.toml</span></code> file where you keep your project configurations and dependancies,
and a <code class="docutils literal notranslate"><span class="pre">src</span></code> directory where your source code should live.</p>
<p>Build you project with <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">build</span></code>. This will create a few files:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Cargo.lock</span></code>: Tracks exact versions of project dependancies</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">target/</span></code>: Where your executable is stored.</p></li>
</ol>
<p>By default cargo builds in debug mode, so your executable will be in <code class="docutils literal notranslate"><span class="pre">target/debug</span></code>.</p>
<p>You can combine both building and running with just <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">run</span></code>. If no files have changed,
cargo will skip the build stage and just run the executable.</p>
<p><code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">check</span></code> is another command you can use. This will simply check that your code compiles
but doesn‚Äôt produce an executable. This is faster than <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">build</span></code> since it can miss some steps,
so it is useful when developing to check that your code still compiles.</p>
<section id="release-build">
<h3>Release build<a class="headerlink" href="#release-build" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>When your project is ready for release, build it with <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">build</span> <span class="pre">--release</span></code> to compile with
optimisations. This will place the executable in <code class="docutils literal notranslate"><span class="pre">target/release</span></code>. The compilation time will be longer,
but the executable will run faster.</p>
</section>
</section>
<section id="programming-concepts">
<h2>Programming Concepts<a class="headerlink" href="#programming-concepts" title="Permalink to this heading">ÔÉÅ</a></h2>
<section id="variables-and-mutability">
<h3>Variables and Mutability<a class="headerlink" href="#variables-and-mutability" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>By default, variable in rust are immutable (cannot be changed.)
If you have a variable <code class="docutils literal notranslate"><span class="pre">let</span> <span class="pre">x</span> <span class="pre">=</span> <span class="pre">5;</span></code> and you try to change it with <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">6;</span></code>, this will not compile since
you can‚Äôt change an immutable type.</p>
<p>To make a variable mutable, add the <code class="docutils literal notranslate"><span class="pre">mut</span></code> keyword before the variable declaration: <code class="docutils literal notranslate"><span class="pre">let</span> <span class="pre">mut</span> <span class="pre">x</span> <span class="pre">=</span> <span class="pre">5;</span></code></p>
</section>
<section id="constants">
<h3>Constants<a class="headerlink" href="#constants" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Constants are similar to immutable variables, but they are bound to a name and always immutable (can‚Äôt use mut keyword with them).
To declare a constant use the <code class="docutils literal notranslate"><span class="pre">const</span></code> keyword instead of the <code class="docutils literal notranslate"><span class="pre">let</span></code> keyword. The type of the value must also be annotated.
They can only be set with expressions at build-time, not values that are generated at run-time. They can also be declared in any scope,
including the global scope.</p>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">Example of a constant</span><a class="headerlink" href="#id7" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="n">NUMBER_OF_SECONDS_IN_MIN</span>: <span class="kt">u32</span> <span class="o">=</span><span class="w"> </span><span class="mi">60</span><span class="p">;</span>
<span class="k">const</span><span class="w"> </span><span class="n">NUMBER_OF_MINUTES_IN_HOUR</span>: <span class="kt">u32</span> <span class="o">=</span><span class="w"> </span><span class="mi">60</span><span class="p">;</span>
<span class="k">const</span><span class="w"> </span><span class="n">NUMBER_OF_SECONDS_IN_HOUR</span>: <span class="kt">u32</span> <span class="o">=</span><span class="w"> </span><span class="n">NUMBER_OF_MINUTES_IN_HOUR</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">NUMBER_OF_SECONDS_IN_MIN</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Constants should be given upper-case names.</p>
</div>
</section>
<section id="shadowing">
<h3>Shadowing<a class="headerlink" href="#shadowing" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>It is possible to declare a new variable with the same name as an old variable. This new variable will be the one
used in the current scope.</p>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text">Example using variable Shadowing</span><a class="headerlink" href="#id8" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="fm">println!</span><span class="p">(</span><span class="s">&quot;The value of x is {x}&quot;</span><span class="p">);</span>
<span class="kd">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
<span class="fm">println!</span><span class="p">(</span><span class="s">&quot;The value of x is {x}&quot;</span><span class="p">);</span>

<span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;The value of x is {x}&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="fm">println!</span><span class="p">(</span><span class="s">&quot;The value of x is {x}&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<p>This will end up printing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">value</span> <span class="n">of</span> <span class="n">x</span> <span class="ow">is</span> <span class="mi">5</span>
<span class="n">The</span> <span class="n">value</span> <span class="n">of</span> <span class="n">x</span> <span class="ow">is</span> <span class="mi">6</span>
<span class="n">The</span> <span class="n">value</span> <span class="n">of</span> <span class="n">x</span> <span class="ow">is</span> <span class="mi">7</span>
<span class="n">The</span> <span class="n">value</span> <span class="n">of</span> <span class="n">x</span> <span class="ow">is</span> <span class="mi">6</span>
</pre></div>
</div>
<p>This is different from making a varibale mutable since we will get a compile time error if we
accidentally set the value to something else without using the <code class="docutils literal notranslate"><span class="pre">let</span></code> keyword.</p>
<p>Shadowing also lets you change the type of a variable, since you are effectively creating a new variable.</p>
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-text">Changing a variable‚Äôs type</span><a class="headerlink" href="#id9" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;bob&quot;</span><span class="p">;</span>
<span class="c1">// type is now integer</span>
<span class="kd">let</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">.</span><span class="n">len</span><span class="p">();</span>
</pre></div>
</div>
</div>
<p>If we try do this with a mutable type, then there will be an error since we can‚Äôt change/mutate a variable‚Äôs type.</p>
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-text">Example of error</span><a class="headerlink" href="#id10" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
<span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;bob&quot;</span><span class="p">;</span>
</pre></div>
</div>
</div>
</section>
<section id="data-types">
<h3>Data Types<a class="headerlink" href="#data-types" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Rust is a statically typed language. The compiler can usually infer which type something should be, but in the case
something can take many types, you have to type annotate: <code class="docutils literal notranslate"><span class="pre">let</span> <span class="pre">x:</span> <span class="pre">u32</span> <span class="pre">=</span> <span class="pre">&quot;42&quot;.parse().expect(&quot;Not</span> <span class="pre">a</span> <span class="pre">number!&quot;)</span></code></p>
<p>Scalar types: Represent a single value‚Ä¶</p>
<section id="integer">
<h4>Integer<a class="headerlink" href="#integer" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>Integer types can be signed or unsigned, 8 (<code class="docutils literal notranslate"><span class="pre">i8</span></code> and <code class="docutils literal notranslate"><span class="pre">u8</span></code>), 16, 32, 64, 128bit or arch which is the size of the
architecture you are running. arch is denoted with <code class="docutils literal notranslate"><span class="pre">isize</span></code> and <code class="docutils literal notranslate"><span class="pre">usize</span></code>. Integer literals can be in several formats:</p>
<ol class="arabic simple">
<li><p>Decimal: <code class="docutils literal notranslate"><span class="pre">92_010</span></code></p></li>
<li><p>Hex: <code class="docutils literal notranslate"><span class="pre">0xff</span></code></p></li>
<li><p>Octal: <code class="docutils literal notranslate"><span class="pre">0o77</span></code></p></li>
<li><p>Binary: <code class="docutils literal notranslate"><span class="pre">0b1110_0010</span></code></p></li>
<li><p>Byte(u8 only): <code class="docutils literal notranslate"><span class="pre">b'A'</span></code></p></li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<blockquote>
<div><p>Integer Overflow:
If you are running rust in debug mode, if an overflow occurs the program will panic.
Running in release mode it will not. It will wrap the value, e.g. 256 -&gt; 0.
You can explicitly handle overflows you can use some standard library functions:</p>
</div></blockquote>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">wrapping_*</span></code> methods</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">checked_*</span></code> methods -&gt; check if overflow occured</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overflowing_*</span></code> methods -&gt; return a boolean</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">saturating_*</span></code> methods -&gt; saturate instead of over/under flow</p></li>
</ul>
</div>
</section>
<section id="floats">
<h4>floats<a class="headerlink" href="#floats" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>There are two primitive types, <code class="docutils literal notranslate"><span class="pre">f32</span> <span class="pre">f64</span></code>. <code class="docutils literal notranslate"><span class="pre">f64</span></code> is the default value since it is not much slower than using
the 32-bit version and it is double the size.</p>
</section>
<section id="booleans">
<h4>booleans<a class="headerlink" href="#booleans" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>Booleans (<code class="docutils literal notranslate"><span class="pre">bool</span></code>) have two options: <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">false</span></code>. Booleans are one byte in size.</p>
</section>
<section id="characters">
<h4>characters<a class="headerlink" href="#characters" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>rust‚Äôs <code class="docutils literal notranslate"><span class="pre">char</span></code> type is 4 bytes in size. They use single quotes, as opposed to literals which use double quotes.
It represents Unicode characters (not ASCII), so it can represent emojis or chinese characters for example.</p>
<div class="literal-block-wrapper docutils container" id="id11">
<div class="code-block-caption"><span class="caption-text">Char examples</span><a class="headerlink" href="#id11" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;z&#39;</span><span class="p">;</span>
<span class="kd">let</span><span class="w"> </span><span class="n">cat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;üêà&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="compound-types">
<h3>Compound Types<a class="headerlink" href="#compound-types" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>These group mutliple values in one type.</p>
<section id="tuple">
<h4>Tuple<a class="headerlink" href="#tuple" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>In a tuple you can group a number of differnt types in one compound type. Once made the size of the
tuple cannot change.</p>
<div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-text">Example using tuples</span><a class="headerlink" href="#id12" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">tuple</span>: <span class="p">(</span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="kt">f32</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;k&#39;</span><span class="p">);</span>

<span class="kd">let</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tuple</span><span class="p">;</span>

<span class="kd">let</span><span class="w"> </span><span class="n">floaty</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tuple</span><span class="p">.</span><span class="mi">1</span><span class="p">;</span>

<span class="fm">println!</span><span class="p">(</span><span class="s">&quot;The value of integer is {x}&quot;</span><span class="p">);</span>
<span class="fm">println!</span><span class="p">(</span><span class="s">&quot;The value of float is {floaty}&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<p>As seen in the example, it is possible to access a tuple‚Äôs values by desructuring a tuple or by the dot
operator, using the index of the value you want.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The first index is 0 in rust.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A tuple without any values is called a <code class="docutils literal notranslate"><span class="pre">unit</span></code>. It is denoted by <code class="docutils literal notranslate"><span class="pre">()</span></code>, and is similar to <code class="docutils literal notranslate"><span class="pre">None</span></code>
in python.</p>
</div>
</section>
<section id="array">
<h4>Array<a class="headerlink" href="#array" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>Unlike a tuple, every element in an array must have the same type.
Arrays in rust have fixed lengths. Because of this, array‚Äôs are stored on the stack, and not the heap.</p>
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-text">Example using array</span><a class="headerlink" href="#id13" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">];</span>

<span class="c1">// Indicates a size of 5, using i32</span>
<span class="kd">let</span><span class="w"> </span><span class="n">b</span>: <span class="p">[</span><span class="kt">i32</span>: <span class="mi">5</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">];</span>

<span class="c1">// Fills the array with 5 elements of value 3</span>
<span class="kd">let</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="mi">5</span><span class="p">];</span>

<span class="c1">// accessing array element</span>
<span class="kd">let</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
</pre></div>
</div>
</div>
<p>If trying to access an array element which is out of range at run-time, the rust program will panic.
Rust checks the array index is in bounds before accessing the array element.
If you try access it wrong at compile time, then it will be a build time error.</p>
</section>
</section>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Function use the <code class="docutils literal notranslate"><span class="pre">fn</span></code> keyword. Functions can be defined above or below the function you call it from,
as long as they are defined in the scope of the caller. You should also type annotate your parameters/arguments.</p>
<div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-text">Example using functions</span><a class="headerlink" href="#id14" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">my_func</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">fn</span> <span class="nf">my_func</span><span class="p">(</span><span class="n">my_number</span>: <span class="kt">u32</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;My number is {my_number}&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</section>
<section id="statements-and-expressions">
<h3>Statements and Expressions<a class="headerlink" href="#statements-and-expressions" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>The basic difference: expressions evaluate to a return value, statements do something but don‚Äôt return anything.</p>
<p><code class="docutils literal notranslate"><span class="pre">let</span> <span class="pre">y</span> <span class="pre">=</span> <span class="pre">6;</span></code> is a statement, so does not return anything. Therefore, <code class="docutils literal notranslate"><span class="pre">let</span> <span class="pre">y</span> <span class="pre">=</span> <span class="pre">(let</span> <span class="pre">x</span> <span class="pre">=</span> <span class="pre">6);</span></code> will cause an error.
In languages like C, a variable assignment will return the value of the assignment, so something like <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">a</span> <span class="pre">=</span> <span class="pre">b</span> <span class="pre">=</span> <span class="pre">6;</span></code>
is valid, <strong>not</strong> in rust.</p>
<p>Expressions evaluate to a value. So in <code class="docutils literal notranslate"><span class="pre">let</span> <span class="pre">y</span> <span class="pre">=</span> <span class="pre">6;</span></code> 6 is the expression.</p>
<p>Calling a macro, function or new scope block are all expressions.</p>
<div class="literal-block-wrapper docutils container" id="id15">
<div class="code-block-caption"><span class="caption-text">Example with scope block expression</span><a class="headerlink" href="#id15" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="c1">// scope block returns 4</span>
<span class="kd">let</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// note no ;</span>
<span class="w">    </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
<span class="p">};</span>

<span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Value of y is {y}&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There is no semicolon at the end of the expression. If you add a semicolon,
this makes it a statement and no value is returned.
If there was a semicolon, this error would show:
<cite>()</cite> cannot be formatted with the default formatter - for the println macro</p>
</div>
</section>
<section id="function-return-values">
<h3>Function return values<a class="headerlink" href="#function-return-values" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Return values from functions are not named, but we have to specify their type:</p>
<div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-text">Example return type</span><a class="headerlink" href="#id16" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span> <span class="nf">five</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="kt">i32</span> <span class="p">{</span>
<span class="w">    </span><span class="mi">5</span>
<span class="w">    </span><span class="c1">// also valid</span>
<span class="w">    </span><span class="c1">// return 5;</span>
<span class="w">    </span><span class="c1">// return 5</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since a function is a expression, you can ‚Äúreturn‚Äù the result by ommitting the final
semicolon. Alternatively specify ‚Äúreturn‚Äù</p>
</div>
</section>
<section id="control-flow">
<h3>Control Flow<a class="headerlink" href="#control-flow" title="Permalink to this heading">ÔÉÅ</a></h3>
<section id="if-expression">
<h4>if expression<a class="headerlink" href="#if-expression" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>The expression in an if statement must be a boolean, otherwise we will get an error.
This doesn‚Äôt even work when using a u8, the same size as a boolean.</p>
<div class="literal-block-wrapper docutils container" id="id17">
<div class="code-block-caption"><span class="caption-text">Example if statement</span><a class="headerlink" href="#id17" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>

<span class="k">if</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;True&quot;</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;True2&quot;</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;False&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>Because if is an expression, you can use it on the right side of a let statement to assign a value.</p>
<div class="literal-block-wrapper docutils container" id="id18">
<div class="code-block-caption"><span class="caption-text">Example assigning with an if statement</span><a class="headerlink" href="#id18" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">{</span><span class="mi">5</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="mi">6</span><span class="p">};</span>
</pre></div>
</div>
</div>
</section>
<section id="loop">
<h4>Loop<a class="headerlink" href="#loop" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">loop</span></code> keyword tells rust to execute a block of code forever until you tell it to stop.
You can use the <code class="docutils literal notranslate"><span class="pre">break</span></code> or <code class="docutils literal notranslate"><span class="pre">continue</span></code> keywords to control loop execution.</p>
<div class="literal-block-wrapper docutils container" id="id19">
<div class="code-block-caption"><span class="caption-text">Example using loop</span><a class="headerlink" href="#id19" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="c1">// Loops forever</span>
<span class="k">loop</span><span class="p">{</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// breaks loop</span>
<span class="k">loop</span><span class="p">{</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">break</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// loops forever, prints nothing</span>
<span class="k">loop</span><span class="p">{</span>
<span class="w">    </span><span class="k">continue</span><span class="p">;</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>You are also able to return values from loops:</p>
<div class="literal-block-wrapper docutils container" id="id20">
<div class="code-block-caption"><span class="caption-text">Example returning value</span><a class="headerlink" href="#id20" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="kd">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">loop</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">counter</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">counter</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">break</span><span class="w"> </span><span class="n">counter</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>

<span class="fm">println!</span><span class="p">(</span><span class="s">&quot;{result}&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<p>It is also possible to label loops. This way you can specify if you have nested loops which one you
want to break from/continue in.</p>
<div class="literal-block-wrapper docutils container" id="id21">
<div class="code-block-caption"><span class="caption-text">Example with nested loops with names</span><a class="headerlink" href="#id21" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="o">&#39;</span><span class="na">counting_up</span>: <span class="nc">loop</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">counter</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="w">    </span><span class="k">loop</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">break</span><span class="w"> </span><span class="nl">&#39;counting_up</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
<span class="c1">// This only prints 1</span>
<span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Counter is {counter}&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</section>
<section id="while-loop">
<h4>While loop<a class="headerlink" href="#while-loop" title="Permalink to this heading">ÔÉÅ</a></h4>
<div class="literal-block-wrapper docutils container" id="id22">
<div class="code-block-caption"><span class="caption-text">Example of a while loop</span><a class="headerlink" href="#id22" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>

<span class="k">while</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;{number}&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">number</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</section>
<section id="for-loop">
<h4>for loop<a class="headerlink" href="#for-loop" title="Permalink to this heading">ÔÉÅ</a></h4>
<div class="literal-block-wrapper docutils container" id="id23">
<div class="code-block-caption"><span class="caption-text">Example for loops</span><a class="headerlink" href="#id23" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">];</span>

<span class="k">for</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Value is {element}&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="p">){</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Value is {i}&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="p">).</span><span class="n">rev</span><span class="p">(){</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Value is {i}&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</section>
</section>
</section>
<section id="guessing-game-example-misc">
<h2>Guessing Game Example - Misc.<a class="headerlink" href="#guessing-game-example-misc" title="Permalink to this heading">ÔÉÅ</a></h2>
<ul>
<li><p>Rust by default has a set of items defined in the standard library that it brings into the
program scope. This is known as the <strong>prelude</strong>.</p>
<p>If something you want to use is not in the prelude, you must bring it into scope manually
with the <code class="docutils literal notranslate"><span class="pre">use</span></code> statement. e.g. <code class="docutils literal notranslate"><span class="pre">use</span> <span class="pre">std::io;</span></code></p>
</li>
<li><p>When printing with <code class="docutils literal notranslate"><span class="pre">println!</span></code>, you can print the variable directly with <code class="docutils literal notranslate"><span class="pre">{&lt;var&gt;}</span></code> or you can
print the result of evaluating an expression like this: <code class="docutils literal notranslate"><span class="pre">println!(&quot;Your</span> <span class="pre">value</span> <span class="pre">is</span> <span class="pre">{}&quot;,</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">1);</span></code></p></li>
<li><p>Getting a random number:
Rust doesn‚Äôt have a random number generator in its std library, so we need to import a crate.
<em>https://crates.io/crates/rand</em></p>
<p>The project we are building (with the executable) is known as a <em>binary crate</em>, and the random
crate we are pulling in is known as a <em>library crate</em>.</p>
<p>To include the crate, add <code class="docutils literal notranslate"><span class="pre">rand</span> <span class="pre">=</span> <span class="pre">&quot;0.8.5&quot;</span></code> to the <code class="docutils literal notranslate"><span class="pre">[dependencies]</span></code> section of the <code class="docutils literal notranslate"><span class="pre">Cargo.toml</span></code></p>
</li>
</ul>
<div class="literal-block-wrapper docutils container" id="id24">
<div class="code-block-caption"><span class="caption-text">Getting a random number</span><a class="headerlink" href="#id24" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">use</span><span class="w"> </span><span class="n">rand</span>::<span class="n">Rng</span><span class="p">;</span>

<span class="k">fn</span> <span class="nf">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">secret_number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand</span>::<span class="n">thread_rng</span><span class="p">().</span><span class="n">gen_range</span><span class="p">(</span><span class="mi">1</span><span class="o">..=</span><span class="mi">100</span><span class="p">);</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Secret number is {secret_number}&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<ul class="simple">
<li><p>Documentation: running <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">doc</span> <span class="pre">--open</span></code> will compile documentation for the crates you are using
and open them in a browser for you to see!</p></li>
</ul>
<div class="literal-block-wrapper docutils container" id="id25">
<div class="code-block-caption"><span class="caption-text">Guessing Game</span><a class="headerlink" href="#id25" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">io</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">cmp</span>::<span class="n">Ordering</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="n">rand</span>::<span class="n">Rng</span><span class="p">;</span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">secret_number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand</span>::<span class="n">thread_rng</span><span class="p">().</span><span class="n">gen_range</span><span class="p">(</span><span class="mi">1</span><span class="o">..=</span><span class="mi">100</span><span class="p">);</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Secret number is {secret_number}&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="k">loop</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Guess a number please:&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">guess</span>: <span class="nb">String</span> <span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">new</span><span class="p">();</span>

<span class="w">        </span><span class="n">io</span>::<span class="n">stdin</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="n">read_line</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">guess</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="s">&quot;Failed to read line&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="n">guess</span>: <span class="kt">u32</span> <span class="o">=</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="n">guess</span><span class="p">.</span><span class="n">trim</span><span class="p">().</span><span class="n">parse</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nb">Ok</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">num</span><span class="p">,</span>
<span class="w">            </span><span class="nb">Err</span><span class="p">(</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">continue</span><span class="p">,</span>
<span class="w">        </span><span class="p">};</span>

<span class="w">        </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;You guessed {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">guess</span><span class="p">);</span>

<span class="w">        </span><span class="k">match</span><span class="w"> </span><span class="n">guess</span><span class="p">.</span><span class="n">cmp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">secret_number</span><span class="p">){</span>
<span class="w">            </span><span class="n">Ordering</span>::<span class="n">Less</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Too small&quot;</span><span class="p">),</span>
<span class="w">            </span><span class="n">Ordering</span>::<span class="n">Greater</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Too big&quot;</span><span class="p">),</span>
<span class="w">            </span><span class="n">Ordering</span>::<span class="n">Equal</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Just right&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</section>
<section id="ownership">
<h2>Ownership<a class="headerlink" href="#ownership" title="Permalink to this heading">ÔÉÅ</a></h2>
<p><em>Basic Rules</em>:
1. Each value in rust has an owner
2. There can only be one owner at a time
3. When the owner goes out of scope, the value will be dropped</p>
<p>How does rust manage memory allocation?</p>
<p>For literals like a string literal <code class="docutils literal notranslate"><span class="pre">&quot;hello&quot;</span></code>, this is stored on the stack and when the variable assigned
to that value goes out of scope, the data is popped from the stack.</p>
<p>For types which are of variable size, e.g. <code class="docutils literal notranslate"><span class="pre">String</span></code>, these have a pointer on the stack which points to
allocated memory on the heap. When the variable assigned to the <code class="docutils literal notranslate"><span class="pre">String</span></code> goes out of scope, rust calls the
<code class="docutils literal notranslate"><span class="pre">drop</span></code> function to free the heap memory.</p>
<section id="move">
<h3>Move<a class="headerlink" href="#move" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>If you allocate a new variable to a variable which has a heap component, the new variable will simply be a
pointer (and length and capacity) on the stack to the same memory in the heap.</p>
<p>Now we have two variables pointing to the same memory, they both can‚Äôt be freed using <code class="docutils literal notranslate"><span class="pre">drop</span></code> since this would
be a double free. To prevent this, if you assign a variable to another in this way, the first variable will become
invalid.</p>
<div class="literal-block-wrapper docutils container" id="id26">
<div class="code-block-caption"><span class="caption-text">Example of invalid variable</span><a class="headerlink" href="#id26" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">);</span>
<span class="kd">let</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s1</span><span class="p">;</span>

<span class="c1">// This won&#39;t work since s1 is no longer valid</span>
<span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Value of string 1 is {s1}&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<p>This type of assignment is known as a <code class="docutils literal notranslate"><span class="pre">move</span></code>, where the pointer, length and capacity are copied to the new variable,
and the old variable being made invalid.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is not true when assigning a variable of a fixed size to each other. e.g. <code class="docutils literal notranslate"><span class="pre">let</span> <span class="pre">y:</span> <span class="pre">u32</span> <span class="pre">=</span> <span class="pre">x;</span></code> is fine
since this doesn‚Äôt use any heap memory. Therefore <code class="docutils literal notranslate"><span class="pre">x</span></code> will still be valid after this assignment.
Variable types like these implement something called the <code class="docutils literal notranslate"><span class="pre">Copy</span></code> trait.</p>
</div>
</section>
<section id="clone">
<h3>Clone<a class="headerlink" href="#clone" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>If we want to make a copy of the heap data too (similar to deep copy), we can use the <code class="docutils literal notranslate"><span class="pre">clone</span></code> method.
This will make a copy of the pointer, lenght and capacity on the stack, and allocate new memory on the heap
and copy the contents of the first variable‚Äôs heap data. The pointer of the new variable will point to this new
heap data.</p>
<div class="literal-block-wrapper docutils container" id="id27">
<div class="code-block-caption"><span class="caption-text">Example using clone</span><a class="headerlink" href="#id27" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">);</span>
<span class="kd">let</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s1</span><span class="p">.</span><span class="n">clone</span><span class="p">();</span>

<span class="c1">// s1 is valid since it was not made invalid by a move</span>
<span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Value of string 1 is {s1}&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</section>
<section id="function-calls">
<h3>Function Calls<a class="headerlink" href="#function-calls" title="Permalink to this heading">ÔÉÅ</a></h3>
<div class="literal-block-wrapper docutils container" id="id28">
<div class="code-block-caption"><span class="caption-text">Example of functions and variable scope</span><a class="headerlink" href="#id28" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="n">print_string</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>

<span class="w">    </span><span class="n">print_int</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// This is ok</span>
<span class="w">    </span><span class="n">print_int</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// s1 no longer exists, so compile error</span>
<span class="w">    </span><span class="n">print_string</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>

<span class="p">}</span>

<span class="k">fn</span> <span class="nf">print_int</span><span class="p">(</span><span class="n">value</span>: <span class="kt">i32</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;The value of the int is {value}&quot;</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="c1">// since x is copied in, x is still valid after this, value is not</span>

<span class="k">fn</span> <span class="nf">print_string</span><span class="p">(</span><span class="n">s1</span>: <span class="nb">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;The value of s1 is {s1}&quot;</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="c1">// s1 is dropped here</span>
</pre></div>
</div>
</div>
<p>As you can see from the example, different types behave differently when passed to functions.</p>
<p>Return values from functions can also tranfer ownership:</p>
<div class="literal-block-wrapper docutils container" id="id29">
<div class="code-block-caption"><span class="caption-text">Example of returns tranferring ownership</span><a class="headerlink" href="#id29" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_string</span><span class="p">();</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">s3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mirror</span><span class="p">(</span><span class="n">s2</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Here s1 and s3 are valid, s2 is not</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Values are {s1} {s2} {s3}&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">fn</span> <span class="nf">mirror</span><span class="p">(</span><span class="n">my_string</span>: <span class="nb">String</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">String</span> <span class="p">{</span>
<span class="w">    </span><span class="n">my_string</span>
<span class="p">}</span><span class="w"> </span><span class="c1">// s2 is moved to my_string so is not valid anymore</span>

<span class="k">fn</span> <span class="nf">get_string</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="nb">String</span> <span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">some_string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">some_string</span>
<span class="p">}</span><span class="w"> </span><span class="c1">// some_string is moved to s1, so some_string no longer valid</span>
</pre></div>
</div>
</div>
</section>
<section id="references-and-borrowing">
<h3>References and Borrowing<a class="headerlink" href="#references-and-borrowing" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>If we don‚Äôt want a function to take ownership of a variable we can use the concepts of references and borrowing.</p>
<p>A reference is a pointer to a varaible but it does not have ownership of the variable. Therefore, when it
goes out of scope, the original variable is not dropped:</p>
<div class="literal-block-wrapper docutils container" id="id30">
<div class="code-block-caption"><span class="caption-text">Example using reference</span><a class="headerlink" href="#id30" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">s3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mirror</span><span class="p">(</span><span class="o">&amp;</span><span class="n">s2</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Values are World World</span>
<span class="w">    </span><span class="c1">// It seems println! can print &amp;String too...</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Values are {s2} {s3}&quot;</span><span class="p">);</span>

<span class="p">}</span>

<span class="k">fn</span> <span class="nf">mirror</span><span class="p">(</span><span class="n">my_string</span>: <span class="kp">&amp;</span><span class="nb">String</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kp">&amp;</span><span class="nb">String</span> <span class="p">{</span>
<span class="w">    </span><span class="n">my_string</span>
<span class="p">}</span><span class="w"> </span><span class="c1">// s2 is moved to my_string so is not valid anymore</span>
</pre></div>
</div>
</div>
<p>Using references in functions is known as borrowing. The function is borrowing the variable, so it can use
it, but it does not own it. Like with borrowing the thing should be returned to the owner when finished.</p>
<p>References, by default, are immutable, which means you cannot change the value of the borrowed variable.</p>
<p>We can indicate that a borrowing function will mutate a variable by specifying a mutable reference.</p>
<div class="literal-block-wrapper docutils container" id="id31">
<div class="code-block-caption"><span class="caption-text">Example of a mutable reference</span><a class="headerlink" href="#id31" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>

<span class="w">    </span><span class="n">mut_value</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">s2</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// value is 6</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Values are {s2}&quot;</span><span class="p">);</span>

<span class="p">}</span>

<span class="k">fn</span> <span class="nf">mut_value</span><span class="p">(</span><span class="n">value</span>: <span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="kt">i32</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">*</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>You are not allowed to have more than one mutable reference to value at any one time!
This prevents data races.
In a similar fashion, we cannot have a mutable reference in existance when a immutable one
exists. The user of an immuatable value should not have it change on them.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A variable is considered out of scope after its last use, so it is possible in the same
scope to declare a <code class="docutils literal notranslate"><span class="pre">&amp;mut</span></code> after a immuatable reference if it is after the last use of the
immutable reference.</p>
</div>
</section>
<section id="the-slice-type">
<h3>The Slice Type<a class="headerlink" href="#the-slice-type" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Slices let you reference a contiguous sequence of elements in a collection.
It is only a reference, so does not have ownership.</p>
<div class="literal-block-wrapper docutils container" id="id32">
<div class="code-block-caption"><span class="caption-text">Example string Slice</span><a class="headerlink" href="#id32" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&quot;Hello World&quot;</span><span class="p">);</span>

<span class="c1">// Starts at the 6th element, and includes upto the 11th</span>
<span class="kd">let</span><span class="w"> </span><span class="n">world_slice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">s</span><span class="p">[</span><span class="mi">6</span><span class="o">..</span><span class="mi">11</span><span class="p">];</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In rust‚Äôs slice syntax, <code class="docutils literal notranslate"><span class="pre">&amp;s[0..2]</span></code> and <code class="docutils literal notranslate"><span class="pre">&amp;s[..2]</span></code> are equivilent.
Also if you want to include everything upto the last element, use something
like <code class="docutils literal notranslate"><span class="pre">&amp;s[2..]</span></code>.
Referencing all elements can be done like so <code class="docutils literal notranslate"><span class="pre">&amp;s[..]</span></code></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>String literals are simply string slices. The value of the string is stored
in the compiled binary, so is immutable.</p>
</div>
<p>The type of a string slice is <code class="docutils literal notranslate"><span class="pre">&amp;str</span></code>. This means you can also use a reference to an
entire string with the same type.</p>
<p>Slices also work for other types, for example arrays.</p>
<div class="literal-block-wrapper docutils container" id="id33">
<div class="code-block-caption"><span class="caption-text">Example of Array Slice Operation</span><a class="headerlink" href="#id33" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">];</span>

<span class="kd">let</span><span class="w"> </span><span class="n">slice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">3</span><span class="p">];</span>

<span class="fm">assert_eq!</span><span class="p">(</span><span class="n">slice</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">]);</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="structures">
<h2>Structures<a class="headerlink" href="#structures" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>Structures are a way of organising data types. They differ from tuples because
you can name each element instead of relying on the order of elements like with a
tuple.</p>
<div class="literal-block-wrapper docutils container" id="id34">
<div class="code-block-caption"><span class="caption-text">Example using a Struct</span><a class="headerlink" href="#id34" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="nc">User</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">active</span>: <span class="kt">bool</span><span class="p">,</span>
<span class="w">    </span><span class="n">username</span>: <span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="n">sign_in_count</span>: <span class="nc">u65</span><span class="p">,</span>
<span class="p">}</span>

<span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">user1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">active</span>: <span class="nc">true</span><span class="p">,</span>
<span class="w">    </span><span class="n">username</span>: <span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&quot;myusername&quot;</span><span class="p">),</span>
<span class="w">    </span><span class="n">sign_in_count</span>: <span class="mi">0</span><span class="p">,</span>
<span class="p">};</span>

<span class="c1">// access elements with dot notation</span>
<span class="n">user1</span><span class="p">.</span><span class="n">active</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To change an element in the struct, the whole struct needs to be mutable.
Rust doesn‚Äôt support different mutability for different fields.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We can use field initialisation shorthand. Instead of writing something like:
<code class="docutils literal notranslate"><span class="pre">active:active,</span></code> in the struct initialisation with an input variable called
<code class="docutils literal notranslate"><span class="pre">active</span></code>, simply just write <code class="docutils literal notranslate"><span class="pre">active</span></code></p>
</div>
<section id="struct-update-syntax">
<h3>Struct update syntax<a class="headerlink" href="#struct-update-syntax" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>If we are copying over values from one struct to another, and only changing a few elements,
we can use the struct update syntax to fill the rest of the struct with the given struct‚Äôs
values.</p>
<div class="literal-block-wrapper docutils container" id="id35">
<div class="code-block-caption"><span class="caption-text">Example using struct syntax update</span><a class="headerlink" href="#id35" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">user2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">active</span>: <span class="nc">false</span><span class="p">,</span>
<span class="w">    </span><span class="c1">// rest of the values copied from user 1</span>
<span class="w">    </span><span class="o">..</span><span class="n">user1</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <code class="docutils literal notranslate"><span class="pre">user2</span></code> copies any values from <code class="docutils literal notranslate"><span class="pre">user1</span></code> that don‚Äôt implement the <code class="docutils literal notranslate"><span class="pre">Copy</span></code>
trait (e.g. String), <code class="docutils literal notranslate"><span class="pre">user1</span></code> will become invalid.</p>
</div>
</section>
<section id="tuple-structs">
<h3>Tuple Structs<a class="headerlink" href="#tuple-structs" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>A tuple sturct is where you name the tuple type, and give the types of the fields,
however, you don‚Äôt name the fields.</p>
<div class="literal-block-wrapper docutils container" id="id36">
<div class="code-block-caption"><span class="caption-text">Example of tuple struct</span><a class="headerlink" href="#id36" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="nc">Color</span><span class="p">(</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="p">);</span>
<span class="k">struct</span> <span class="nc">Point</span><span class="p">(</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="p">);</span>

<span class="kd">let</span><span class="w"> </span><span class="n">black</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>

<span class="c1">// access by index</span>
<span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Red component of Black is {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">black</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span>
</pre></div>
</div>
</div>
</section>
<section id="example-area-of-a-rectangle">
<h3>Example - Area of a rectangle<a class="headerlink" href="#example-area-of-a-rectangle" title="Permalink to this heading">ÔÉÅ</a></h3>
<div class="literal-block-wrapper docutils container" id="id37">
<div class="code-block-caption"><span class="caption-text">Simple example using rectangle struct</span><a class="headerlink" href="#id37" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="nc">Rectangle</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">width</span>: <span class="kt">u32</span><span class="p">,</span>
<span class="w">    </span><span class="n">height</span>: <span class="kt">u32</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">my_rect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Rectangle</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">width</span>: <span class="mi">4</span><span class="p">,</span>
<span class="w">        </span><span class="n">height</span>: <span class="mi">8</span><span class="p">,</span>
<span class="w">    </span><span class="p">};</span>

<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Area of rectangle is {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">get_area</span><span class="p">(</span><span class="o">&amp;</span><span class="n">my_rect</span><span class="p">));</span>

<span class="p">}</span>

<span class="k">fn</span> <span class="nf">get_area</span><span class="p">(</span><span class="n">rectangle</span>: <span class="kp">&amp;</span><span class="nc">Rectangle</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">u32</span> <span class="p">{</span>
<span class="w">    </span><span class="n">rectangle</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">rectangle</span><span class="p">.</span><span class="n">height</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<section id="print-trait">
<h4>Print trait<a class="headerlink" href="#print-trait" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>Right now we can‚Äôt print <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> in <code class="docutils literal notranslate"><span class="pre">println!</span></code>. To do this, we need to implement
the <code class="docutils literal notranslate"><span class="pre">std::fmt::Display</span></code> trait.</p>
<p>It might be possible to use the <code class="docutils literal notranslate"><span class="pre">{:?}</span></code> or <code class="docutils literal notranslate"><span class="pre">{:#?}```(pretty</span> <span class="pre">print)</span> <span class="pre">options</span> <span class="pre">inside</span> <span class="pre">the</span>
<span class="pre">print</span> <span class="pre">macro.</span> <span class="pre">Using</span> <span class="pre">the</span> <span class="pre">curly</span> <span class="pre">braces</span> <span class="pre">indicates</span> <span class="pre">printing</span> <span class="pre">in</span> <span class="pre">debug</span> <span class="pre">mode,</span> <span class="pre">for</span> <span class="pre">which</span> <span class="pre">you</span> <span class="pre">also</span>
<span class="pre">need</span> <span class="pre">the</span> <span class="pre">``Debug</span></code> trait.</p>
<div class="literal-block-wrapper docutils container" id="id38">
<div class="code-block-caption"><span class="caption-text">Updates to print struct</span><a class="headerlink" href="#id38" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="cp">#[derive(Debug)]</span>
<span class="k">struct</span> <span class="nc">Rectangle</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">width</span>: <span class="kt">u32</span><span class="p">,</span>
<span class="w">    </span><span class="n">height</span>: <span class="kt">u32</span><span class="p">,</span>
<span class="p">}</span>

<span class="kd">let</span><span class="w"> </span><span class="n">my_rect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Rectangle</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">width</span>: <span class="mi">4</span><span class="p">,</span>
<span class="w">    </span><span class="n">height</span>: <span class="mi">8</span><span class="p">,</span>
<span class="p">};</span>

<span class="fm">println!</span><span class="p">(</span><span class="s">&quot;my_rect is {:?}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">my_rect</span><span class="p">);</span>
</pre></div>
</div>
</div>
<p>It is also possible to use the <code class="docutils literal notranslate"><span class="pre">dbg!</span></code> macro to print a value in debug format.
This is different from the print macro since it takes ownership of an expression
instead of taking a reference like the print macro.
<code class="docutils literal notranslate"><span class="pre">dbg!</span></code> also prints to <code class="docutils literal notranslate"><span class="pre">stderr</span></code> whereas the print macro prints to <code class="docutils literal notranslate"><span class="pre">stdout</span></code></p>
<div class="literal-block-wrapper docutils container" id="id39">
<div class="code-block-caption"><span class="caption-text">Example using <code class="docutils literal notranslate"><span class="pre">dbg!</span></code></span><a class="headerlink" href="#id39" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">my_rect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Rectangle</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// can debug individual assignments</span>
<span class="w">    </span><span class="n">width</span>: <span class="nc">dbg</span><span class="o">!</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>
<span class="w">    </span><span class="n">height</span>: <span class="mi">8</span><span class="p">,</span>
<span class="p">};</span>

<span class="fm">dbg!</span><span class="p">(</span><span class="o">&amp;</span><span class="n">my_rect</span><span class="p">);</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="struct-methods">
<h3>Struct Methods<a class="headerlink" href="#struct-methods" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Methods are functions that belong to a struct.
They are declared with the <code class="docutils literal notranslate"><span class="pre">impl</span></code> keyword.</p>
<div class="literal-block-wrapper docutils container" id="id40">
<div class="code-block-caption"><span class="caption-text">Example making struct method</span><a class="headerlink" href="#id40" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="nc">Rectangle</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">width</span>: <span class="kt">u32</span><span class="p">,</span>
<span class="w">    </span><span class="n">height</span>: <span class="kt">u32</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">impl</span><span class="w"> </span><span class="n">Rectangle</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">area</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">u32</span> <span class="p">{</span>
<span class="w">        </span><span class="bp">self</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">height</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">my_rect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Rectangle</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">width</span>: <span class="mi">4</span><span class="p">,</span>
<span class="w">        </span><span class="n">height</span>: <span class="mi">8</span><span class="p">,</span>
<span class="w">    </span><span class="p">};</span>

<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Area is {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">my_rect</span><span class="p">.</span><span class="n">area</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>Struct methods use the <code class="docutils literal notranslate"><span class="pre">self</span></code> keyword, which represents the instance of the structure.
Methods can take ownership of <code class="docutils literal notranslate"><span class="pre">self</span></code>, borrow it immuatably or borrow it mutably.</p>
<section id="associated-functions">
<h4>Associated Functions<a class="headerlink" href="#associated-functions" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>You can also define functions in the <code class="docutils literal notranslate"><span class="pre">impl</span></code> block which don‚Äôt use the <code class="docutils literal notranslate"><span class="pre">self</span></code>
value. These are called associated functions.</p>
<p>These are often used as constructors that will return a new instance of the struct.</p>
<div class="literal-block-wrapper docutils container" id="id41">
<div class="code-block-caption"><span class="caption-text">Example of constructor</span><a class="headerlink" href="#id41" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">impl</span><span class="w"> </span><span class="n">Rectangle</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">square</span><span class="p">(</span><span class="n">size</span>: <span class="kt">u32</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Self</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="bp">Self</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">width</span>: <span class="nc">size</span><span class="p">,</span>
<span class="w">            </span><span class="n">height</span>: <span class="nc">size</span><span class="p">,</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">let</span><span class="w"> </span><span class="n">my_square</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Rectangle</span>::<span class="n">square</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is also possible to have several <code class="docutils literal notranslate"><span class="pre">impl</span></code> blocks for a structure.
They are all valid for the structure.</p>
</div>
</section>
</section>
</section>
<section id="enums">
<h2>Enums<a class="headerlink" href="#enums" title="Permalink to this heading">ÔÉÅ</a></h2>
<div class="literal-block-wrapper docutils container" id="id42">
<div class="code-block-caption"><span class="caption-text">Basic Enum example</span><a class="headerlink" href="#id42" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span> <span class="nc">IpAddrKind</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">V4</span><span class="p">,</span>
<span class="w">    </span><span class="n">V6</span><span class="p">,</span>
<span class="p">}</span>

<span class="kd">let</span><span class="w"> </span><span class="n">ip_kind</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">IpAddrKind</span>::<span class="n">V4</span><span class="p">;</span>
</pre></div>
</div>
</div>
<p>Enums are namespaced under the identifier, so are accessed with the double colon
notation.</p>
<p>You can assign/associate values to enums too.
As shown from the example, these can multiple types, and also each enum member
can have different associations.</p>
<div class="literal-block-wrapper docutils container" id="id43">
<div class="code-block-caption"><span class="caption-text">Example associating values to an Enum</span><a class="headerlink" href="#id43" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span> <span class="nc">IpAddrKind</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">V4</span><span class="p">(</span><span class="kt">u8</span><span class="p">,</span><span class="w"> </span><span class="kt">u8</span><span class="p">,</span><span class="w"> </span><span class="kt">u8</span><span class="p">,</span><span class="w"> </span><span class="kt">u8</span><span class="p">),</span><span class="w"> </span><span class="c1">// Tuple struct</span>
<span class="w">    </span><span class="n">V6</span><span class="p">(</span><span class="nb">String</span><span class="p">),</span><span class="w"> </span><span class="c1">// Tuple struct</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>It is also possible to name the associated values, e.g. <code class="docutils literal notranslate"><span class="pre">Move</span> <span class="pre">{</span> <span class="pre">x:</span> <span class="pre">i32,</span> <span class="pre">y:</span> <span class="pre">i32</span> <span class="pre">}</span></code>.
This is the same as associating a struct to the enum.
The fields in the above example are the same as a tuple struct, and are accessed in the
same way: <code class="docutils literal notranslate"><span class="pre">V4.0</span></code></p>
<p>Just like with structs, we can define methods on enums:</p>
<div class="literal-block-wrapper docutils container" id="id44">
<div class="code-block-caption"><span class="caption-text">Example of enum method</span><a class="headerlink" href="#id44" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span> <span class="nc">Message</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">QUIT</span><span class="p">,</span>
<span class="w">    </span><span class="n">MOVE</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">x</span>: <span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="n">y</span>: <span class="kt">i32</span> <span class="p">},</span>
<span class="p">}</span>

<span class="k">impl</span><span class="w"> </span><span class="n">Message</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">call</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">){</span>
<span class="w">        </span><span class="c1">// method body here</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">let</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Message</span>::<span class="n">QUIT</span><span class="p">();</span>
<span class="n">message</span><span class="p">.</span><span class="n">call</span><span class="p">();</span>
</pre></div>
</div>
</div>
<section id="option-enum">
<h3>Option Enum<a class="headerlink" href="#option-enum" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Rust doesn‚Äôt have a NULL type, but you can still encode that a varible either has a
value or doesn‚Äôt using the Option Enum.</p>
<div class="literal-block-wrapper docutils container" id="id45">
<div class="code-block-caption"><span class="caption-text">The Option Enum</span><a class="headerlink" href="#id45" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span> <span class="nb">Option</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb">None</span><span class="p">,</span>
<span class="w">    </span><span class="nb">Some</span><span class="p">(</span><span class="n">T</span><span class="p">),</span>
<span class="p">}</span>

<span class="kd">let</span><span class="w"> </span><span class="n">some_number</span>: <span class="nb">Option</span><span class="o">&lt;</span><span class="kt">i32</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
</pre></div>
</div>
</div>
<p>These are included in the prelude, so you can use <code class="docutils literal notranslate"><span class="pre">None</span></code> and <code class="docutils literal notranslate"><span class="pre">Some(T)</span></code> where you
want without the Namespacing.</p>
</section>
<section id="match-control">
<h3>Match Control<a class="headerlink" href="#match-control" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Match control is a nice way to do some flow control covering all/ or some enum values.</p>
<div class="literal-block-wrapper docutils container" id="id46">
<div class="code-block-caption"><span class="caption-text">Example using match</span><a class="headerlink" href="#id46" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span> <span class="nc">Coin</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Penny</span><span class="p">,</span>
<span class="w">    </span><span class="n">Nickel</span><span class="p">,</span>
<span class="w">    </span><span class="n">Dime</span><span class="p">,</span>
<span class="w">    </span><span class="n">Quarter</span><span class="p">(</span><span class="n">UsState</span><span class="p">),</span><span class="w"> </span><span class="c1">//UsState is another enum</span>
<span class="p">}</span>

<span class="k">match</span><span class="w"> </span><span class="n">coin</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Coin</span>::<span class="n">Penny</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Lucky Coin!&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="mi">1</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="n">Coin</span>::<span class="n">Nickel</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">    </span><span class="n">Coin</span>::<span class="n">Quarter</span><span class="p">(</span><span class="n">state</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Value of state is {:?}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">state</span><span class="p">);</span>
<span class="w">        </span><span class="mi">25</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="o">..</span><span class="p">.</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>It is also possible to include more code in a match statement, and not just
returning a value. You can do this with the curly brackets like shown in the
example.</p>
<p>Accessing values from inside an enum can be seen in the example also.</p>
<div class="literal-block-wrapper docutils container" id="id47">
<div class="code-block-caption"><span class="caption-text">Example match with Option</span><a class="headerlink" href="#id47" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span> <span class="nf">plus_one</span><span class="p">(</span><span class="n">x</span>: <span class="nb">Option</span><span class="o">&lt;</span><span class="kt">i32</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">Option</span><span class="o">&lt;</span><span class="kt">i32</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">match</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nb">None</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nb">None</span><span class="p">,</span>
<span class="w">        </span><span class="c1">// if value is given, return + 1 to the value</span>
<span class="w">        </span><span class="nb">Some</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Rust match checks are exhaustive, so you have to provide a match arm for every
possibility.</p>
</div>
</section>
<section id="catch-all-patterns">
<h3>Catch-all Patterns<a class="headerlink" href="#catch-all-patterns" title="Permalink to this heading">ÔÉÅ</a></h3>
<div class="literal-block-wrapper docutils container" id="id48">
<div class="code-block-caption"><span class="caption-text">Example handling all other options</span><a class="headerlink" href="#id48" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">match</span><span class="w"> </span><span class="n">dice_roll</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">move_one</span><span class="p">(),</span>
<span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">move_two</span><span class="p">(),</span>
<span class="w">    </span><span class="c1">// handles 3,4,5,6</span>
<span class="w">    </span><span class="n">other</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">move_n</span><span class="p">(</span><span class="n">other</span><span class="p">),</span>
<span class="w">    </span><span class="c1">// alternative if we don&#39;t need to use the value:</span>
<span class="w">    </span><span class="c1">// _ =&gt; dont_move(),</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>We can use the <code class="docutils literal notranslate"><span class="pre">other</span></code> to catch all remaining options. We can also use
just an <code class="docutils literal notranslate"><span class="pre">_</span></code>, which is the same but when you don‚Äôt need to use the value.</p>
<p>If you don‚Äôt want anything to happen, you can just return the empty tuple type: <code class="docutils literal notranslate"><span class="pre">_</span> <span class="pre">=&gt;</span> <span class="pre">(),</span></code></p>
</section>
<section id="if-let">
<h3>if let<a class="headerlink" href="#if-let" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>For single checks on Option types, you can use the <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">let</span></code> as a replacement:</p>
<div class="literal-block-wrapper docutils container" id="id49">
<div class="code-block-caption"><span class="caption-text">Example if let</span><a class="headerlink" href="#id49" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">config_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="mi">3</span><span class="k">u8</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="n">max</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">config_max</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// do the thing when config_max is Some</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// do the thing when config_max is None,</span>
<span class="w">    </span><span class="c1">// This else part is optional...</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="packages-and-crates">
<h2>Packages and Crates<a class="headerlink" href="#packages-and-crates" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>A crate is the smallest amount of code the rust compiler considers at a time.
A crate can be in two forms: a binary crate is one that compiles into an executable.
A library crate doesn‚Äôt have a main function and are designed for functionality shared by
multiple projects.</p>
<p>A package is a set of crates that provide similar functionality. They come with a <code class="docutils literal notranslate"><span class="pre">Cargo.toml</span></code>
file that describes how to build those crates.</p>
<p>If a crate contains a <code class="docutils literal notranslate"><span class="pre">src/main.rs</span></code> file, Cargo knowns that this crate is a binary crate
with a name the same as the name of the crate automatically. If there is a <code class="docutils literal notranslate"><span class="pre">src/lib.rs</span></code>,
then it knows it is a library crate. If a package contains both these files, it has both
a binary and library crate. A package can also have multiple binary crates located in the
<code class="docutils literal notranslate"><span class="pre">src/bin</span></code> path.</p>
<section id="declaring-modules">
<h3>Declaring Modules<a class="headerlink" href="#declaring-modules" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>When you declare a module, the compiler will look in three places for the code. e.g. <code class="docutils literal notranslate"><span class="pre">mod</span> <span class="pre">garden;</span></code></p>
<ol class="arabic simple">
<li><p>Inline, with curly brackets that replace the semicolon</p></li>
<li><p>In the file <code class="docutils literal notranslate"><span class="pre">src/garden.rs</span></code></p></li>
<li><p>In the file <code class="docutils literal notranslate"><span class="pre">src/garden/mod.rs</span></code></p></li>
</ol>
<section id="submodules">
<h4>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>If you want to declare a module in another module, the compiler will look in the following places:
e.g. <code class="docutils literal notranslate"><span class="pre">mod</span> <span class="pre">vegetable;</span></code></p>
<ol class="arabic simple">
<li><p>Inline, like before</p></li>
<li><p>In <code class="docutils literal notranslate"><span class="pre">src/garden/vegetable.rs</span></code></p></li>
<li><p>In <code class="docutils literal notranslate"><span class="pre">src/garden/vegetable/mod.rs</span></code></p></li>
</ol>
<p>Once a module is declared, it can be accessed from anywhere in the crate like so:
<code class="docutils literal notranslate"><span class="pre">crate::garden::vegetable::Potato</span></code>
You can make accesses easier by simply using <code class="docutils literal notranslate"><span class="pre">use</span> <span class="pre">crate::garden::vegetable::Potato</span></code> and then
just use <code class="docutils literal notranslate"><span class="pre">Potato</span></code> in your code.</p>
</section>
</section>
<section id="defining-modules">
<h3>Defining Modules<a class="headerlink" href="#defining-modules" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Items inside a module are private by default. Rust lets you control the privacy of items in
modules.</p>
<div class="literal-block-wrapper docutils container" id="id50">
<div class="code-block-caption"><span class="caption-text">Example of modules</span><a class="headerlink" href="#id50" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">mod</span> <span class="nn">front_of_house</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">mod</span> <span class="nn">hosting</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">fn</span> <span class="nf">seat_at_table</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// This module is sibling of hosting, a child of front_of_house</span>
<span class="w">    </span><span class="c1">// and front_of_house is this module&#39;s parent</span>
<span class="w">    </span><span class="k">mod</span> <span class="nn">serving</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">fn</span> <span class="nf">bring_food</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>This makes a module tree like this:</p>
<div class="literal-block-wrapper docutils container" id="id51">
<div class="code-block-caption"><span class="caption-text">Module tree</span><a class="headerlink" href="#id51" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">crate</span>
    <span class="o">-</span> <span class="n">front_of_house</span>
        <span class="o">-</span> <span class="n">hosting</span>
            <span class="o">-</span> <span class="n">seat_at_table</span>
        <span class="o">-</span> <span class="n">serving</span>
            <span class="o">-</span> <span class="n">bring_food</span>
</pre></div>
</div>
</div>
<p>Crate is a module started from the crate root (<code class="docutils literal notranslate"><span class="pre">main.rs</span></code> or <code class="docutils literal notranslate"><span class="pre">lib.rs</span></code>)</p>
<section id="referencing-modules">
<h4>Referencing Modules<a class="headerlink" href="#referencing-modules" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>We can reference modules in our crate either with relative or absolute crate paths.
Absolute paths start with <code class="docutils literal notranslate"><span class="pre">crate</span></code> and relative ones use something like <code class="docutils literal notranslate"><span class="pre">self</span></code> / <code class="docutils literal notranslate"><span class="pre">super</span></code>
or some other identifier (e.g. nothing also works).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is generally better to use absolute paths since it allows you to move modules
independently of each other.</p>
</div>
</section>
<section id="the-pub-keywork">
<h4>The <code class="docutils literal notranslate"><span class="pre">pub</span></code> keywork<a class="headerlink" href="#the-pub-keywork" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>As before, rust defaults to private scope for modules. To make a module public,
use the <code class="docutils literal notranslate"><span class="pre">pub</span></code> keyword.</p>
<div class="literal-block-wrapper docutils container" id="id52">
<div class="code-block-caption"><span class="caption-text">Example making module public</span><a class="headerlink" href="#id52" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">mod</span> <span class="nn">front_of_house</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="k">mod</span> <span class="nn">hosting</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">pub</span><span class="w"> </span><span class="k">fn</span> <span class="nf">add_to_waitlist</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Making a module public doesn‚Äôt make its contents public, it just means it is available
to anything that can access the parent module.</p>
</div>
</section>
<section id="relative-path-with-super">
<h4>Relative path with super<a class="headerlink" href="#relative-path-with-super" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>You can use <code class="docutils literal notranslate"><span class="pre">super</span></code> to access scope that is the parent of the current scope.
This is equivilent to using <code class="docutils literal notranslate"><span class="pre">..</span></code> in paths for example.
e.g. <code class="docutils literal notranslate"><span class="pre">super::deliver_order();</span></code></p>
</section>
</section>
<section id="public-structs-and-enums">
<h3>Public Structs and Enums<a class="headerlink" href="#public-structs-and-enums" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>You can declare a struct public with the <code class="docutils literal notranslate"><span class="pre">pub</span></code> keyword. This only makes the struct visible,
but the fields in the struct are still private by default, so you have to also declare them
public on a case by case basis. Note that the <code class="docutils literal notranslate"><span class="pre">impl</span></code> functions will have to match the
visibility of what they access.</p>
<p>An enum on the other hand, once declared public with <code class="docutils literal notranslate"><span class="pre">pub</span></code>, has all of its field public.</p>
</section>
<section id="the-use-keyword">
<h3>The <code class="docutils literal notranslate"><span class="pre">use</span></code> keyword<a class="headerlink" href="#the-use-keyword" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>The use keyword can bring paths into scope without having to declare the whole path on every
function call.</p>
<div class="literal-block-wrapper docutils container" id="id53">
<div class="code-block-caption"><span class="caption-text">Example with <code class="docutils literal notranslate"><span class="pre">use</span></code></span><a class="headerlink" href="#id53" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">use</span><span class="w"> </span><span class="k">crate</span>::<span class="n">front_of_house</span>::<span class="n">hosting</span><span class="p">;</span>

<span class="c1">// Can access the module with the last name in the use statement</span>
<span class="n">hosting</span>::<span class="n">add_to_waitlist</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This only creates a shortcut for the module scope you are in.
Child module scopes will not have access to this name shortening.</p>
</div>
<p>We can also specify an alias for the namespace used: e.g. <code class="docutils literal notranslate"><span class="pre">use</span> <span class="pre">crate::front_of_house::hosting</span> <span class="pre">as</span> <span class="pre">host;</span></code></p>
<p>If you add the <code class="docutils literal notranslate"><span class="pre">pub</span></code> keyword infront of the <code class="docutils literal notranslate"><span class="pre">use</span></code> statement, then it means that other code
that uses this module will be able to use this shortened namespace too. If not defined as <code class="docutils literal notranslate"><span class="pre">pub</span></code>,
they will not be able to.</p>
<section id="nested-paths-and-globs">
<h4>Nested Paths and Globs<a class="headerlink" href="#nested-paths-and-globs" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>Nested paths and globs give you a way of cleaning up the way you use multiple items from one module.</p>
<div class="literal-block-wrapper docutils container" id="id54">
<div class="code-block-caption"><span class="caption-text">Example of Nested Paths and Globs</span><a class="headerlink" href="#id54" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">cmp</span>::<span class="n">Ordering</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">io</span><span class="p">;</span>

<span class="c1">// This can be reduced to</span>
<span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="p">{</span><span class="n">cmp</span>::<span class="n">Ordering</span><span class="p">,</span><span class="w"> </span><span class="n">io</span><span class="p">};</span>

<span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">io</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">io</span>::<span class="n">Write</span><span class="p">;</span>

<span class="c1">// This can be reduced to</span>
<span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">io</span>::<span class="p">{</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">Write</span><span class="p">}</span>

<span class="c1">// Globs are also supported</span>
<span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">collections</span>::<span class="o">*</span><span class="p">;</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="modules-in-different-files">
<h3>Modules in different files<a class="headerlink" href="#modules-in-different-files" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>A <code class="docutils literal notranslate"><span class="pre">mod</span></code> declaration only needs to be perfomed once. The rest of the files in your
crate can then access the module functions using the name path. The <code class="docutils literal notranslate"><span class="pre">mod</span></code> keyword is not like
the <code class="docutils literal notranslate"><span class="pre">include</span></code> keyword in other languages.</p>
</section>
<section id="release-profiles">
<h3>Release Profiles<a class="headerlink" href="#release-profiles" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>These are predefined and customizable profiles for how you want the code compiled. For example,
you might have one profile which is used for release, and one for debugging (the two main profiles).</p>
<p>You can alter profiles in the Cargo.toml file with the <code class="docutils literal notranslate"><span class="pre">[profile.*]</span></code> tag.</p>
<div class="literal-block-wrapper docutils container" id="id55">
<div class="code-block-caption"><span class="caption-text">Example of altering dev profile optimisation level</span><a class="headerlink" href="#id55" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[profile.dev]</span>
<span class="n">opt-level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</pre></div>
</div>
</div>
<p>Optimisation levels go from 0-3, with 3 the most optimised (longest compile time).</p>
</section>
<section id="publishing-a-crate">
<h3>Publishing a crate<a class="headerlink" href="#publishing-a-crate" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>One important thing when publishing code is documenting it. Rust has the <code class="docutils literal notranslate"><span class="pre">//</span></code> comments
already, but also has another type of comment called a documentation comment which can be parsed
to generate HTML documentation.</p>
<p>Documentation comments use three slashes <code class="docutils literal notranslate"><span class="pre">///</span></code>.
They also support markdown notation for formatting the text.</p>
<div class="literal-block-wrapper docutils container" id="id56">
<div class="code-block-caption"><span class="caption-text">Example documentation</span><a class="headerlink" href="#id56" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="sd">/// Adds one to a number</span>
<span class="sd">///</span>
<span class="sd">/// # Examples</span>
<span class="sd">///</span>
<span class="sd">/// ```</span>
<span class="sd">/// let answer = my_crate::add_one(2);</span>
<span class="sd">/// assert_eq!(answer, 3);</span>
<span class="sd">/// ```</span>
<span class="k">pub</span><span class="w"> </span><span class="k">fn</span> <span class="nf">add_one</span><span class="p">(</span><span class="n">x</span>: <span class="kt">i32</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">i32</span> <span class="p">{</span>
<span class="w">    </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>Run <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">doc</span></code> to generate documentation HTML from code comments.
Run <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">doc</span> <span class="pre">--open</span></code> to open the generated HTML after building in a browser.</p>
<p>Some commonly used sections:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">Panics</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">Errors</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">Saftey</span></code></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The examples in the ‚ÄúExamples‚Äù section actually get run as tests, to make sure
the example works correctly with the funcion functionality</p>
</div>
<p>We use <code class="docutils literal notranslate"><span class="pre">//!</span></code> to comment the item that contains the comment, e.g. the whole file.</p>
</section>
<section id="exporting-a-public-api">
<h3>Exporting a public API<a class="headerlink" href="#exporting-a-public-api" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Sometimes types can be nested deep in your code somewhere. This can make it hard for a user
to find. You can re-export public types to make them easier to access without so many nested layers.</p>
<p>e.g. <code class="docutils literal notranslate"><span class="pre">pub</span> <span class="pre">use</span> <span class="pre">self::kinds::PrimaryColor;</span></code> can then be used as <code class="docutils literal notranslate"><span class="pre">use</span> <span class="pre">art::PrimaryColor;</span></code>.
This is kind of like what you can do with <code class="docutils literal notranslate"><span class="pre">__init__</span></code> files in python packages.</p>
</section>
<section id="publishing">
<h3>Publishing<a class="headerlink" href="#publishing" title="Permalink to this heading">ÔÉÅ</a></h3>
<ul class="simple">
<li><p>First you will need an account: <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">login</span></code></p></li>
<li><p>Then add metadata about your crate in Cargo.toml under <code class="docutils literal notranslate"><span class="pre">[package]</span></code>, e.g. name, license, description.</p></li>
<li><p>Publish with <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">publish</span></code></p></li>
</ul>
</section>
<section id="cargo-workspaces">
<h3>Cargo Workspaces<a class="headerlink" href="#cargo-workspaces" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>As projects get bigger, you might want to split functionality into multiple library crates, but
keep those in the same project.</p>
<p>Do this by making a new directory with a new <code class="docutils literal notranslate"><span class="pre">Cargo.toml</span></code> file in it. Then add a <code class="docutils literal notranslate"><span class="pre">[workspace]</span></code>
tag and a list called <code class="docutils literal notranslate"><span class="pre">members</span> <span class="pre">=</span> <span class="pre">[]</span></code>, which will contain the names of the library/binary crates
in the workspace.</p>
<p>If one package references another, it can have a <code class="docutils literal notranslate"><span class="pre">[dependencies]</span></code> section which has the relative
path to the other crate in the workspace you are using.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">run</span> <span class="pre">-p</span> <span class="pre">&lt;package_name&gt;</span></code> to run a particular package in the workspace.</p>
</section>
<section id="installing-binaries">
<h3>Installing binaries<a class="headerlink" href="#installing-binaries" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>You can install binary crates with <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">install</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">install</span> <span class="pre">ripgrep</span></code>.</p>
</section>
</section>
<section id="collections">
<h2>Collections<a class="headerlink" href="#collections" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>Collections can store multiple values, and are stored on the heap.</p>
<section id="vectors">
<h3>Vectors<a class="headerlink" href="#vectors" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Vectors can only store values of the same type.</p>
<div class="literal-block-wrapper docutils container" id="id57">
<div class="code-block-caption"><span class="caption-text">Basic vector creation</span><a class="headerlink" href="#id57" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="c1">// have to specify the type since it is an empty vector</span>
<span class="kd">let</span><span class="w"> </span><span class="n">v</span>: <span class="nb">Vec</span><span class="o">&lt;</span><span class="kt">i32</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Vec</span>::<span class="n">new</span><span class="p">();</span>

<span class="c1">// convenience macro for creating a vector and setting its type (inferred from the data)</span>
<span class="kd">let</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="fm">vec!</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">];</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id58">
<div class="code-block-caption"><span class="caption-text">Writing and reading elements</span><a class="headerlink" href="#id58" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Vec</span>::<span class="n">new</span><span class="p">();</span>

<span class="c1">// type inferred here, adds the element 5 to the vector</span>
<span class="n">v</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="n">v</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="n">v</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="n">v</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

<span class="c1">// getting a value:</span>
<span class="kd">let</span><span class="w"> </span><span class="n">third</span>: <span class="kp">&amp;</span><span class="kt">i32</span> <span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="kd">let</span><span class="w"> </span><span class="n">third</span>: <span class="nb">Option</span><span class="o">&lt;&amp;</span><span class="kt">i32</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// Some(third) or None</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id59">
<div class="code-block-caption"><span class="caption-text">Iterating over values in a vector</span><a class="headerlink" href="#id59" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="fm">vec!</span><span class="p">[</span><span class="mi">110</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="mi">65</span><span class="p">];</span>
<span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">&amp;</span><span class="n">v</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;{i}&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// This adds 50 to each vector element</span>
<span class="c1">// the * is the dereference operator</span>
<span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">*</span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">50</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</section>
<section id="string">
<h3>String<a class="headerlink" href="#string" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Strings are basically considered as a collection of bytes in rust.
String is actually created as a wrapper around the <code class="docutils literal notranslate"><span class="pre">Vec&lt;T&gt;</span></code>.</p>
<p>They are UTF-8 encoded! Which means we can use lots of cool charaters. <code class="docutils literal notranslate"><span class="pre">√∏√ò√¶√Ü√Ö√•</span></code></p>
<div class="literal-block-wrapper docutils container" id="id60">
<div class="code-block-caption"><span class="caption-text">Creation of String</span><a class="headerlink" href="#id60" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="c1">// New emtpy string</span>
<span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">new</span><span class="p">();</span>

<span class="c1">// New initialised string</span>
<span class="kd">let</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;initial_contents&quot;</span><span class="p">.</span><span class="n">to_string</span><span class="p">();</span>
<span class="kd">let</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&quot;initial_contents&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id61">
<div class="code-block-caption"><span class="caption-text">Updating String</span><a class="headerlink" href="#id61" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">);</span>

<span class="c1">// append using push_str -&gt; &quot;foobar&quot;</span>
<span class="n">s</span><span class="p">.</span><span class="n">push_str</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">);</span>

<span class="c1">// concatenation</span>
<span class="kd">let</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&quot; world!&quot;</span><span class="p">);</span>
<span class="c1">// Note s is move here so it no longer exists after this</span>
<span class="kd">let</span><span class="w"> </span><span class="n">s3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">&amp;</span><span class="n">s2</span><span class="p">;</span><span class="w"> </span><span class="c1">// results in &quot;foobar world!&quot;</span>
</pre></div>
</div>
</div>
<p>The reason that s will no longer exist after using the <code class="docutils literal notranslate"><span class="pre">+</span></code> operator is that this is actually
implemented by a function call: <code class="docutils literal notranslate"><span class="pre">fn</span> <span class="pre">add(self,</span> <span class="pre">s:</span> <span class="pre">&amp;str)</span> <span class="pre">-&gt;</span> <span class="pre">String</span> <span class="pre">{</span></code></p>
<div class="literal-block-wrapper docutils container" id="id62">
<div class="code-block-caption"><span class="caption-text">Concatenating multiple Strings</span><a class="headerlink" href="#id62" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&quot;tic&quot;</span><span class="p">);</span>
<span class="kd">let</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&quot;tac&quot;</span><span class="p">);</span>
<span class="kd">let</span><span class="w"> </span><span class="n">s3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&quot;toe&quot;</span><span class="p">);</span>

<span class="kd">let</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="fm">format!</span><span class="p">(</span><span class="s">&quot;{s1}-{s2}-{s3}&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<p>Indexing of Strings in rust doesn‚Äôt work. This is because we use UTF-8, which doesn‚Äôt
have fixed size characters. Just avoid it since it causes problems.</p>
<div class="literal-block-wrapper docutils container" id="id63">
<div class="code-block-caption"><span class="caption-text">Iterating over a string</span><a class="headerlink" href="#id63" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="c1">// iterate over charaters</span>
<span class="k">for</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s">&quot;√∏√¶√•&quot;</span><span class="p">.</span><span class="n">chars</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;{c}&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// iterate over bytes, this will print numbers</span>
<span class="k">for</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s">&quot;√∏√¶√•&quot;</span><span class="p">.</span><span class="n">bytes</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;{b}&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>Remember, a char in rust is not the same a byte!</p>
</section>
<section id="hash-maps">
<h3>Hash Maps<a class="headerlink" href="#hash-maps" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>The type <code class="docutils literal notranslate"><span class="pre">HashMap&lt;K,</span> <span class="pre">V&gt;</span></code> stores a mapping of keys of type K to values of type V.
These are known by other names in other languages like dictionary in python.</p>
<p>All the values must have the same type, and all the keys must have the same type.</p>
<div class="literal-block-wrapper docutils container" id="id64">
<div class="code-block-caption"><span class="caption-text">Creating HashMaps and accessing values</span><a class="headerlink" href="#id64" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">collections</span>::<span class="n">HashMap</span><span class="p">;</span>

<span class="c1">// create empty HashMap</span>
<span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">scores</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HashMap</span>::<span class="n">new</span><span class="p">();</span>

<span class="n">scores</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&quot;Blue&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="n">scores</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&quot;Yellow&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">50</span><span class="p">);</span>

<span class="kd">let</span><span class="w"> </span><span class="n">team_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&quot;Blue&quot;</span><span class="p">);</span>
<span class="kd">let</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">scores</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">team_name</span><span class="p">).</span><span class="n">copied</span><span class="p">().</span><span class="n">unwrap_or</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id65">
<div class="code-block-caption"><span class="caption-text">Iterating over HashMaps</span><a class="headerlink" href="#id65" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">&amp;</span><span class="n">scores</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;{key}: {value}&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<section id="id1">
<h4>Ownership<a class="headerlink" href="#id1" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>For values implementing the copy trait (e.g. <code class="docutils literal notranslate"><span class="pre">i32</span></code>), the values will be copied into the
hashmap. For owned values like <code class="docutils literal notranslate"><span class="pre">String</span></code>, the ownership will be transfered to the hashmap.
This applies to both keys and values.</p>
</section>
<section id="updating-a-hashmap">
<h4>Updating a HashMap<a class="headerlink" href="#updating-a-hashmap" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>The number of key-value pairs is growable, but a unique key can only have one value associated
with it at a time.</p>
<p>There are several options when updating a hashmap:</p>
<ul class="simple">
<li><p>Overwriting a value: if we call the <code class="docutils literal notranslate"><span class="pre">.insert()</span></code> function twice on the same key, it will overwrite the value.</p></li>
<li><p>Adding only if key is not present: <code class="docutils literal notranslate"><span class="pre">scores.entry(String::from(&quot;Blue&quot;)).or_insert(50);</span></code> -&gt; inserts 50 if key
‚ÄúBlue‚Äù doesn‚Äôt already exist.</p></li>
<li><p>Updating based on old value:</p></li>
</ul>
<div class="literal-block-wrapper docutils container" id="id66">
<div class="code-block-caption"><span class="caption-text">Example updating based on old value</span><a class="headerlink" href="#id66" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">collections</span>::<span class="n">HashMap</span><span class="p">;</span>

<span class="kd">let</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;hello world wonderful world&quot;</span><span class="p">;</span>

<span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HashMap</span>::<span class="n">new</span><span class="p">();</span>

<span class="k">for</span><span class="w"> </span><span class="n">word</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">text</span><span class="p">.</span><span class="n">split_whitespace</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">map</span><span class="p">.</span><span class="n">entry</span><span class="p">(</span><span class="n">word</span><span class="p">).</span><span class="n">or_insert</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// or_insert() returns a &amp;mut to the value</span>
<span class="w">    </span><span class="o">*</span><span class="n">count</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Rust has available several backend hashing algorithms. Some are slower than others (improved security against DoS)
and some are faster. It is possible to change these hash backends.</p>
</div>
</section>
</section>
</section>
<section id="error-handling">
<h2>Error Handling<a class="headerlink" href="#error-handling" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>Rust has two types of errors, recoverable and unrecoverable.
For recoverable errors, the <code class="docutils literal notranslate"><span class="pre">Result&lt;T,</span> <span class="pre">E&gt;</span></code> is used. For unrecoverable, the <code class="docutils literal notranslate"><span class="pre">panic!</span></code> macro
stops execution.</p>
<p>When a rust program panics, it unwinds by going back up the call stack to cleanup.
If you don‚Äôt want this e.g. you want a tiny binary, you can set <code class="docutils literal notranslate"><span class="pre">panic</span> <span class="pre">=</span> <span class="pre">'abort'</span></code>
under <code class="docutils literal notranslate"><span class="pre">[profile.release]</span></code> in your cargo project.</p>
<p>In order to get backtraces, we should run our program with debug symbols enabled, i.e.
running cargo without the <code class="docutils literal notranslate"><span class="pre">--release</span></code> flag.</p>
<section id="recoverable-errors">
<h3>Recoverable Errors<a class="headerlink" href="#recoverable-errors" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>For recoverable errors we use the <code class="docutils literal notranslate"><span class="pre">Result&lt;T,</span> <span class="pre">E&gt;</span></code> type.</p>
<div class="literal-block-wrapper docutils container" id="id67">
<div class="code-block-caption"><span class="caption-text">Matching on different errors</span><a class="headerlink" href="#id67" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">fs</span>:<span class="nc">File</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">io</span>::<span class="n">ErrorKind</span><span class="p">;</span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">greeting_file_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">File</span>::<span class="n">open</span><span class="p">(</span><span class="s">&quot;hello.txt&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">greeting_file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="n">greeting_file_result</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nb">Ok</span><span class="p">(</span><span class="n">file</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">file</span><span class="p">,</span>
<span class="w">        </span><span class="nb">Err</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="n">error</span><span class="p">.</span><span class="n">kind</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">ErrorKind</span>::<span class="n">NotFound</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">match</span><span class="w"> </span><span class="n">File</span>::<span class="n">create</span><span class="p">(</span><span class="s">&quot;hello.txt&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nb">Ok</span><span class="p">(</span><span class="n">fc</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">fc</span><span class="p">,</span>
<span class="w">                    </span><span class="nb">Err</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="fm">panic!</span><span class="p">(</span><span class="s">&quot;Problem creating file&quot;</span><span class="p">),</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="n">other_error</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="fm">panic!</span><span class="p">(</span><span class="s">&quot;Another Error&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>As shown we can use a <code class="docutils literal notranslate"><span class="pre">match</span></code> to handle errors.
We can use other functions too such as <code class="docutils literal notranslate"><span class="pre">unwrap_or_else</span></code> to handle <code class="docutils literal notranslate"><span class="pre">Result&lt;T,</span> <span class="pre">E&gt;</span></code> types.</p>
<p>Using the <code class="docutils literal notranslate"><span class="pre">unwrap()</span></code> method will return the value on Ok, and panic if there is an error.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">expect()</span></code> method does the same as <code class="docutils literal notranslate"><span class="pre">unwrap</span></code> but allows you to specify an error message.</p>
</section>
<section id="propogating-errors">
<h3>Propogating errors<a class="headerlink" href="#propogating-errors" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Propogating error is when you pass an error back up the call stack to be handled else-where.
You can use a <code class="docutils literal notranslate"><span class="pre">match</span></code> block as before, or some shorthand.</p>
<div class="literal-block-wrapper docutils container" id="id68">
<div class="code-block-caption"><span class="caption-text">Shortcut for error propogation</span><a class="headerlink" href="#id68" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">use</span>::<span class="n">fs</span>::<span class="n">File</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">io</span>::<span class="p">{</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">Read</span><span class="p">};</span>

<span class="k">fn</span> <span class="nf">read_username_from_file</span><span class="w"> </span><span class="p">()</span><span class="w"> </span>-&gt; <span class="nb">Result</span><span class="o">&lt;</span><span class="nb">String</span><span class="p">,</span><span class="w"> </span><span class="n">io</span>::<span class="n">Error</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">username_file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">File</span>::<span class="n">open</span><span class="p">(</span><span class="s">&quot;hello.txt&quot;</span><span class="p">)</span><span class="o">?</span><span class="p">;</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">new</span><span class="p">();</span>
<span class="w">    </span><span class="n">username_file</span><span class="p">.</span><span class="n">read_to_string</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">username</span><span class="p">)</span><span class="o">?</span><span class="p">;</span>
<span class="w">    </span><span class="nb">Ok</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">?</span></code> operator is placed after a <code class="docutils literal notranslate"><span class="pre">Result</span></code> value. If it is <code class="docutils literal notranslate"><span class="pre">Ok</span></code>, we continue
execution. If there is an <code class="docutils literal notranslate"><span class="pre">Err</span></code>, that error will be returned. Using the <code class="docutils literal notranslate"><span class="pre">?</span></code> will
convert the error to the error type specified in the function signature.
The <code class="docutils literal notranslate"><span class="pre">?</span></code> can only be used on expressions which return something that matches the
return signatature of the function.</p>
</section>
<section id="custom-type-for-validation">
<h3>Custom Type for Validation<a class="headerlink" href="#custom-type-for-validation" title="Permalink to this heading">ÔÉÅ</a></h3>
<div class="literal-block-wrapper docutils container" id="id69">
<div class="code-block-caption"><span class="caption-text">Example of a custom type for Validation</span><a class="headerlink" href="#id69" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">pub</span><span class="w"> </span><span class="k">struct</span> <span class="nc">Guess</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">value</span>: <span class="kt">i32</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">impl</span><span class="w"> </span><span class="n">Guess</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Similar to a setter</span>
<span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="k">fn</span> <span class="nf">new</span><span class="p">(</span><span class="n">value</span>: <span class="kt">i32</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Guess</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="fm">panic!</span><span class="p">(</span><span class="s">&quot;Guess must be between 1 and 100, got {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">Guess</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// This is similar to a getter</span>
<span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="k">fn</span> <span class="nf">value</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">i32</span> <span class="p">{</span>
<span class="w">        </span><span class="bp">self</span><span class="p">.</span><span class="n">value</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="generic-types-traits-lifetimes">
<h2>Generic Types, Traits, Lifetimes<a class="headerlink" href="#generic-types-traits-lifetimes" title="Permalink to this heading">ÔÉÅ</a></h2>
<section id="generic-types">
<h3>Generic Types<a class="headerlink" href="#generic-types" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Generic types allow us to create things which can be used for multiple datatypes
without code duplication.</p>
<p>Type parameter names in rust are usually short, e.g. <code class="docutils literal notranslate"><span class="pre">&lt;T&gt;</span></code></p>
<div class="literal-block-wrapper docutils container" id="id70">
<div class="code-block-caption"><span class="caption-text">Example with in function definition</span><a class="headerlink" href="#id70" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span> <span class="nf">largest</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">lis</span>: <span class="kp">&amp;</span><span class="p">[</span><span class="n">T</span><span class="p">])</span><span class="w"> </span>-&gt; <span class="kp">&amp;</span><span class="nc">T</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">largest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">list</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">largest</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">largest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">largest</span>
<span class="p">}</span>

<span class="n">largest</span><span class="p">(</span><span class="fm">vec!</span><span class="p">[</span><span class="mi">34</span><span class="p">,</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w"> </span><span class="mi">88</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">]);</span>
<span class="n">largest</span><span class="p">(</span><span class="fm">vec!</span><span class="p">[</span><span class="sc">&#39;y&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;m&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;e&#39;</span><span class="p">]);</span>
</pre></div>
</div>
</div>
<p>Since this function won‚Äôt work for all types <code class="docutils literal notranslate"><span class="pre">T</span></code>, you can also specify in the function
signature limitations for types that the function can be used for e.g. <code class="docutils literal notranslate"><span class="pre">fn</span> <span class="pre">largest&lt;T:</span> <span class="pre">std::cmp::PartialOrd&gt;</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="id71">
<div class="code-block-caption"><span class="caption-text">Example of structure definition</span><a class="headerlink" href="#id71" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="c1">// Works when x and y are the same type</span>
<span class="k">struct</span> <span class="nc">Point</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">x</span>: <span class="nc">T</span><span class="p">;</span>
<span class="w">    </span><span class="n">y</span>: <span class="nc">T</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// x and y can be different types here</span>
<span class="k">struct</span> <span class="nc">Point</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">U</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">x</span>: <span class="nc">T</span><span class="p">;</span>
<span class="w">    </span><span class="n">y</span>: <span class="nc">U</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id72">
<div class="code-block-caption"><span class="caption-text">Example in Method definition</span><a class="headerlink" href="#id72" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="nc">Point</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">x</span>: <span class="nc">T</span><span class="p">;</span>
<span class="w">    </span><span class="n">y</span>: <span class="nc">T</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">impl</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Point</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">x</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kp">&amp;</span><span class="nc">T</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">&amp;</span><span class="bp">self</span><span class="p">.</span><span class="n">x</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</section>
<section id="traits">
<h3>Traits<a class="headerlink" href="#traits" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>A trait defines the functionality a particular type has or can share with other types.
For example, you could consider the greater than operator. For integer types, it is easy
to know which is bigger. Comparing two Strings in this way however won‚Äôt work, unless you
implement the specific greater than trait to perform this functionality.</p>
<p>Traits allow us to group the methods that a type implements, e.g. comparison operators.</p>
<div class="literal-block-wrapper docutils container" id="id73">
<div class="code-block-caption"><span class="caption-text">Example implementing a trait</span><a class="headerlink" href="#id73" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="c1">// here we declare a trait called Summary</span>
<span class="c1">// types implementing this trait must implement the summarize method</span>
<span class="k">pub</span><span class="w"> </span><span class="k">trait</span><span class="w"> </span><span class="n">Summary</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">summarize</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">String</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">pub</span><span class="w"> </span><span class="k">struct</span> <span class="nc">NewsArticle</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="n">headline</span>: <span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="n">author</span>: <span class="nb">String</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">pub</span><span class="w"> </span><span class="k">struct</span> <span class="nc">Person</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="n">name</span>: <span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="n">fav_animal</span>: <span class="nb">String</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">impl</span><span class="w"> </span><span class="n">Summary</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">NewsArticle</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">summarize</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">String</span> <span class="p">{</span>
<span class="w">        </span><span class="fm">format!</span><span class="p">(</span>
<span class="w">            </span><span class="s">&quot;{} by {}&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="bp">self</span><span class="p">.</span><span class="n">headline</span><span class="p">,</span>
<span class="w">            </span><span class="bp">self</span><span class="p">.</span><span class="n">author</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">impl</span><span class="w"> </span><span class="n">Summary</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Person</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">summarize</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">String</span> <span class="p">{</span>
<span class="w">        </span><span class="fm">format!</span><span class="p">(</span>
<span class="w">            </span><span class="s">&quot;{} likes {}&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="bp">self</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>
<span class="w">            </span><span class="bp">self</span><span class="p">.</span><span class="n">fav_animal</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>It is also possible to have default implementations for a trait, so the users of the trait
don‚Äôt have to implement it if they don‚Äôt want.</p>
<div class="literal-block-wrapper docutils container" id="id74">
<div class="code-block-caption"><span class="caption-text">Example of default Traits</span><a class="headerlink" href="#id74" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">pub</span><span class="w"> </span><span class="k">trait</span><span class="w"> </span><span class="n">Summary</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">summarize</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">String</span> <span class="p">{</span>
<span class="w">        </span><span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&quot;Default summary&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>Traits methods can also call other trait methods in their implementation, if they are default or not.</p>
<p>You can also specify traits in method parameters instead of giving a concrete type:</p>
<div class="literal-block-wrapper docutils container" id="id75">
<div class="code-block-caption"><span class="caption-text">Example using trait in function parameters</span><a class="headerlink" href="#id75" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">pub</span><span class="w"> </span><span class="k">fn</span> <span class="nf">notify</span><span class="p">(</span><span class="n">item</span>: <span class="kp">&amp;</span><span class="nc">impl</span><span class="w"> </span><span class="n">Summary</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Breaking news! {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="n">summarize</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">// same thing, different syntax</span>
<span class="k">pub</span><span class="w"> </span><span class="k">fn</span> <span class="nf">notify</span><span class="o">&lt;</span><span class="n">T</span>: <span class="nc">Summary</span><span class="o">&gt;</span><span class="p">(</span><span class="n">item</span>: <span class="kp">&amp;</span><span class="nc">T</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Breaking news! {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="n">summarize</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">// multiple traits</span>
<span class="k">pub</span><span class="w"> </span><span class="k">fn</span> <span class="nf">notify</span><span class="o">&lt;</span><span class="n">T</span>: <span class="nc">Summary</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Display</span><span class="p">,</span><span class="w"> </span><span class="n">U</span>: <span class="nc">Summary</span><span class="o">&gt;</span><span class="p">(</span><span class="n">item</span>: <span class="kp">&amp;</span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="n">another_item</span>: <span class="kp">&amp;</span><span class="nc">U</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Breaking news! {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="n">summarize</span><span class="p">());</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Another item {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">another_item</span><span class="p">.</span><span class="n">summarize</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>It is also possible to return a type which implements a trait, but without specifying a concrete
type.</p>
<div class="literal-block-wrapper docutils container" id="id76">
<div class="code-block-caption"><span class="caption-text">Example returning traits</span><a class="headerlink" href="#id76" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span> <span class="nf">returns_summarizable</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="nc">impl</span><span class="w"> </span><span class="n">Summary</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">..</span><span class="p">.</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>This can be handy in the context of closures and iterators. This only works if the
function returns only one type, not an option between two types for example.</p>
</section>
<section id="lifetimes">
<h3>Lifetimes<a class="headerlink" href="#lifetimes" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Lifetimes ensure that references are valid as long as we need them to be.
Normally, like types, lifetimes are inferred from the code. However, if you want some
special behaviour, you can annotate the lifetime.</p>
<p>Lifetime annotations use <code class="docutils literal notranslate"><span class="pre">'</span></code> syntax. We usually use <code class="docutils literal notranslate"><span class="pre">'a</span></code> for the first lifetime
annotation. This goes after the <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> but before the <code class="docutils literal notranslate"><span class="pre">mut</span></code> and type e.g. <code class="docutils literal notranslate"><span class="pre">i32</span></code>.
e.g. <code class="docutils literal notranslate"><span class="pre">'a</span> <span class="pre">mut</span> <span class="pre">i32</span></code>.</p>
<p>One lifetime annotation doesn‚Äôt make sense on its own, they are more used to describe
the lifetime of one paramter compared with another one. i.e. how references relate to
each other.</p>
<div class="literal-block-wrapper docutils container" id="id77">
<div class="code-block-caption"><span class="caption-text">Example of lifetime in function signature.</span><a class="headerlink" href="#id77" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="c1">// This describes that the returned value&#39;s lifetime will be valid as</span>
<span class="c1">// long as the two inputs are still valid</span>
<span class="k">fn</span> <span class="nf">longest</span><span class="o">&lt;&#39;</span><span class="na">a</span><span class="o">&gt;</span><span class="p">(</span><span class="n">x</span>: <span class="kp">&amp;</span><span class="o">&#39;</span><span class="na">a</span> <span class="kt">str</span><span class="p">,</span><span class="w"> </span><span class="n">y</span>: <span class="kp">&amp;</span><span class="o">&#39;</span><span class="na">a</span> <span class="kt">str</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kp">&amp;</span><span class="o">&#39;</span><span class="na">a</span> <span class="kt">str</span> <span class="p">{</span>
<span class="w">    </span><span class="c1">// return the longest string slice from the two inputs i.e x or y</span>
<span class="w">    </span><span class="o">..</span><span class="p">.</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<section id="static-lifetime">
<h4>Static lifetime<a class="headerlink" href="#static-lifetime" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>There is one special lifetime called the ‚Äústatic‚Äù lifetime. This indicates that the affected
reference can be valid for the whole lifetime of the program. All string literals have static
lifetime.</p>
<p><a class="reference external" href="mailto:runner&#37;&#52;&#48;192&#46;168&#46;0&#46;131">runner<span>&#64;</span>192<span>&#46;</span>168<span>&#46;</span>0<span>&#46;</span>131</a></p>
<div class="literal-block-wrapper docutils container" id="id78">
<div class="code-block-caption"><span class="caption-text">Example of a static reference</span><a class="headerlink" href="#id78" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">s</span>: <span class="kp">&amp;</span><span class="o">&#39;</span><span class="nb">static</span> <span class="kt">str</span> <span class="o">=</span><span class="w"> </span><span class="s">&quot;I have a static lifetime.&quot;</span><span class="p">;</span>
</pre></div>
</div>
</div>
</section>
</section>
</section>
<section id="automated-tests">
<h2>Automated Tests<a class="headerlink" href="#automated-tests" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>To change a function into a test function, add <code class="docutils literal notranslate"><span class="pre">#[test]</span></code> on the line before <code class="docutils literal notranslate"><span class="pre">fn</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Rust has benchmark specific tests available, but currently this is only available on nightly
rust and is unstable.</p>
</div>
<p>Rust can also run documentation tests, to make sure that your documentation and code
remain in sync!</p>
<p>Each test is run in a new thread, and when the main test thread sees the test thread has panicked,
it will stop the thread and mark the test as failed.</p>
<section id="checking-results">
<h3>Checking results<a class="headerlink" href="#checking-results" title="Permalink to this heading">ÔÉÅ</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assert!(&lt;expression&gt;)</span></code>: panics if the expression given returns <code class="docutils literal notranslate"><span class="pre">false</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">assert_eq!(&lt;thing1&gt;,</span> <span class="pre">&lt;thing2&gt;)</span></code>: panics if the two things are not equal</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">assert_ne!(&lt;thing1&gt;,</span> <span class="pre">&lt;thing2&gt;)</span></code>: panics if the two things are equal</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The values used must implement the <code class="docutils literal notranslate"><span class="pre">PartialEq</span></code> trait, so the values can be compared,
and the <code class="docutils literal notranslate"><span class="pre">Debug</span></code> trait so the value can be printed on a failure.</p>
</div>
<p>You can add a custom error message after the <code class="docutils literal notranslate"><span class="pre">assert*</span></code> macros by simply adding a parameters
after the required ones. These will be passed to the <code class="docutils literal notranslate"><span class="pre">format!</span></code> macro to use in the error message.</p>
<div class="literal-block-wrapper docutils container" id="id79">
<div class="code-block-caption"><span class="caption-text">Example of custom error message</span><a class="headerlink" href="#id79" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="cp">#[test]</span>
<span class="k">fn</span> <span class="nf">test_name</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">greeting</span><span class="p">(</span><span class="s">&quot;Carol&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="fm">assert!</span><span class="p">(</span>
<span class="w">        </span><span class="n">result</span><span class="p">.</span><span class="n">contains</span><span class="p">(</span><span class="s">&quot;Carol&quot;</span><span class="p">),</span>
<span class="w">        </span><span class="s">&quot;Greeting did not contain name, result was {}&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="n">result</span>
<span class="w">    </span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">#[should_panic]</span></code>: This specifies that a test function should expect a <code class="docutils literal notranslate"><span class="pre">panic</span></code>. This is placed after the</dt><dd><p><code class="docutils literal notranslate"><span class="pre">#[test]</span></code> macro. Add <code class="docutils literal notranslate"><span class="pre">expected</span> <span class="pre">=</span> <span class="pre">``</span> <span class="pre">to</span> <span class="pre">specify</span> <span class="pre">what</span> <span class="pre">should</span> <span class="pre">be</span> <span class="pre">present</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">panic</span>
<span class="pre">message.</span> <span class="pre">This</span> <span class="pre">is</span> <span class="pre">one</span> <span class="pre">way</span> <span class="pre">to</span> <span class="pre">make</span> <span class="pre">sure</span> <span class="pre">the</span> <span class="pre">panic</span> <span class="pre">you</span> <span class="pre">see</span> <span class="pre">is</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">right</span> <span class="pre">reason.</span>
<span class="pre">``#[should_panic(expected=&quot;less</span> <span class="pre">than</span> <span class="pre">or</span> <span class="pre">equal</span> <span class="pre">to</span> <span class="pre">100&quot;)]</span></code>.</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Result&lt;T,</span> <span class="pre">E&gt;</span></code>:</p></li>
</ul>
<div class="literal-block-wrapper docutils container" id="id80">
<div class="code-block-caption"><span class="caption-text">Example using Result</span><a class="headerlink" href="#id80" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="cp">#[test]</span>
<span class="k">fn</span> <span class="nf">it_works</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="nb">Result</span><span class="o">&lt;</span><span class="p">(),</span><span class="w"> </span><span class="nb">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nb">Ok</span><span class="p">(())</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nb">Err</span><span class="p">(</span><span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&quot;two plus two is not 4!&quot;</span><span class="p">))</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</section>
<section id="test-flow-control">
<h3>Test Flow Control<a class="headerlink" href="#test-flow-control" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>By default tests will be run in parallel, but you can change this with some command line parameters.
Check these out using <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">test</span> <span class="pre">--help</span></code>, or <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">test</span> <span class="pre">--</span> <span class="pre">--help</span></code> for some other options like
<code class="docutils literal notranslate"><span class="pre">--test-threads</span></code>.</p>
<p>You can specify a name test filter, e.g. <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">test</span> <span class="pre">is_</span></code> will run all test functions whose names
start with <code class="docutils literal notranslate"><span class="pre">is_</span></code>.</p>
<p>Use the <code class="docutils literal notranslate"><span class="pre">#[ignore]</span></code> tag so that a test is ignored. Run only the ignored tests with <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">test</span> <span class="pre">--</span> <span class="pre">--ignored</span></code>.
Or use <code class="docutils literal notranslate"><span class="pre">--include-ignored</span></code> to run all tests.</p>
</section>
<section id="test-organisation">
<h3>Test Organisation<a class="headerlink" href="#test-organisation" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Tests are usually split between ‚ÄúUnit tests‚Äù and ‚ÄúIntergration tests‚Äù. Unit tests test one module
in isolation at a time. They can also test private functions. Intergration tests are totally external
to your library, and use the library in the same way any other external code would, just with the
public APIs.</p>
<section id="unit-tests">
<h4>Unit tests<a class="headerlink" href="#unit-tests" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>These should live in the <code class="docutils literal notranslate"><span class="pre">src</span></code> directory of your library.
The convention is to create a module named <code class="docutils literal notranslate"><span class="pre">tests</span></code> in each file to contain the test functions
and to annotate the module with <code class="docutils literal notranslate"><span class="pre">#[cfg(test)]</span></code>. This specifies that the code following should
only be compiled when running tests.</p>
<div class="literal-block-wrapper docutils container" id="id81">
<div class="code-block-caption"><span class="caption-text">Example unit test structure</span><a class="headerlink" href="#id81" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="cp">#[cfg(test)]</span>
<span class="k">mod</span> <span class="nn">tests</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="cp">#[test]</span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">it_works</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w">        </span><span class="fm">assert_eq!</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>It is also possible for unit tests to test private functions which is nice. You do this the same as with
public functions.</p>
</section>
<section id="integration-tests">
<h4>Integration Tests<a class="headerlink" href="#integration-tests" title="Permalink to this heading">ÔÉÅ</a></h4>
<p>These are used to check many parts of your library work together correctly.</p>
<p>To create unit tests, you first create a <code class="docutils literal notranslate"><span class="pre">tests</span></code> directory, on the same level as the
<code class="docutils literal notranslate"><span class="pre">src</span></code> directory.</p>
<div class="literal-block-wrapper docutils container" id="id82">
<div class="code-block-caption"><span class="caption-text">Example intergration test</span><a class="headerlink" href="#id82" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="c1">// we need to bring the library into our test file</span>
<span class="k">use</span><span class="w"> </span><span class="n">adder</span><span class="p">;</span>

<span class="cp">#[test]</span>
<span class="k">fn</span> <span class="nf">it_adds_two</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="fm">assert_eq!</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">adder</span>::<span class="n">add_two</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Not <code class="docutils literal notranslate"><span class="pre">[cfg(test)]</span></code> is needed since we are already in the <code class="docutils literal notranslate"><span class="pre">tests</span></code> directory and Cargo knows
what‚Äôs up</p>
</div>
</section>
</section>
</section>
<section id="command-line-program-notes">
<h2>Command Line Program - Notes<a class="headerlink" href="#command-line-program-notes" title="Permalink to this heading">ÔÉÅ</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">run</span> <span class="pre">--</span> <span class="pre">&lt;args&gt;</span></code>: The <code class="docutils literal notranslate"><span class="pre">--</span></code> indicates the following arguments are for our program and not Cargo.</p></li>
<li><p>The first argument passed to a rust program is the name of the binary you are running.</p></li>
<li><p>Relative paths start from the root of the Cargo project for files</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">process::exit(1)</span></code> to exit with an error code 1</p></li>
<li><p>Get an environment variable with <code class="docutils literal notranslate"><span class="pre">env::var(&quot;IGNORE_CASE&quot;).is_ok();</span></code></p></li>
<li><p>Run with an environment variable with <code class="docutils literal notranslate"><span class="pre">IGNORE_CASE=1</span> <span class="pre">cargo</span> <span class="pre">run</span> <span class="pre">...</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">println!</span></code> can only print to stdout</p></li>
<li><p>You can use the <code class="docutils literal notranslate"><span class="pre">eprintln!</span></code> macro to print to the stderr stream.</p></li>
</ul>
</section>
<section id="iterators-and-closures">
<h2>Iterators and Closures<a class="headerlink" href="#iterators-and-closures" title="Permalink to this heading">ÔÉÅ</a></h2>
<section id="closures">
<h3>Closures<a class="headerlink" href="#closures" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>These are anonymous functions you can save in a variable or pass as arguments to other functions.</p>
<div class="literal-block-wrapper docutils container" id="id83">
<div class="code-block-caption"><span class="caption-text">Example using closures</span><a class="headerlink" href="#id83" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="fm">vec!</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">];</span>

<span class="w">    </span><span class="c1">// this is only printed once only_borrows is called</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">only_borrows</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;From closure {:?}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">list</span><span class="p">);</span>

<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Before closure&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">only_borrows</span><span class="p">();</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;After calling closure&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</section>
<section id="iterators">
<h3>Iterators<a class="headerlink" href="#iterators" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>An iterator allows you to perform some task on a sequence of items in turn.
They are lazy, so you can store an iterator in a variable, and it will only do something
when you call the iterator.</p>
<div class="literal-block-wrapper docutils container" id="id84">
<div class="code-block-caption"><span class="caption-text">Example iterator</span><a class="headerlink" href="#id84" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="fm">vec!</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">];</span>
<span class="kd">let</span><span class="w"> </span><span class="n">v1_iter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="n">iter</span><span class="p">();</span>

<span class="k">for</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">v1_iter</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Got {val}&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>Iterators implement a <code class="docutils literal notranslate"><span class="pre">next()</span></code> method, which you can also use. In this case the iterator
needs to mutable since <code class="docutils literal notranslate"><span class="pre">next</span></code> causes a state change inside the iterator.</p>
<p>You can call methods on iterators to create other iterators, clike the <code class="docutils literal notranslate"><span class="pre">map</span></code> function.</p>
<div class="literal-block-wrapper docutils container" id="id85">
<div class="code-block-caption"><span class="caption-text">Example with map function</span><a class="headerlink" href="#id85" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="fm">vec!</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">];</span>
<span class="kd">let</span><span class="w"> </span><span class="n">v1_iter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="n">iter</span><span class="p">().</span><span class="n">map</span><span class="p">(</span><span class="o">|</span><span class="n">x</span><span class="o">|</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>

<span class="c1">// when you use v1_iter now all elements will have 1 added to them while running.</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="smart-pointers">
<h2>Smart Pointers<a class="headerlink" href="#smart-pointers" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>Smart pointers are data structures that act like a pointer but also have additional
metadata and capabilities.
In many cases smart pointers own the data they point to.</p>
<section id="box-t">
<h3>Box&lt;T&gt;<a class="headerlink" href="#box-t" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Boxes allow you to store data on the heap.</p>
<p>Boxes can be used for recursive types, since they are known size (the pointer on the stack).</p>
<div class="literal-block-wrapper docutils container" id="id86">
<div class="code-block-caption"><span class="caption-text">Example of a recursive type with Box</span><a class="headerlink" href="#id86" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span> <span class="nc">List</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Cons</span><span class="p">(</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="nb">Box</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&gt;</span><span class="p">),</span>
<span class="w">    </span><span class="n">Nil</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">use</span><span class="w"> </span><span class="k">crate</span>::<span class="n">List</span>::<span class="p">{</span><span class="n">Cons</span><span class="p">,</span><span class="w"> </span><span class="n">Nil</span><span class="p">};</span>

<span class="k">fn</span> <span class="nf">main</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Cons</span><span class="p">(</span>
<span class="w">        </span><span class="mi">1</span><span class="p">,</span>
<span class="w">        </span><span class="nb">Box</span>::<span class="n">new</span><span class="p">(</span><span class="n">Cons</span><span class="p">(</span>
<span class="w">            </span><span class="mi">2</span><span class="p">,</span>
<span class="w">            </span><span class="nb">Box</span>::<span class="n">new</span><span class="p">(</span><span class="n">Cons</span><span class="p">(</span>
<span class="w">                </span><span class="mi">3</span><span class="p">,</span>
<span class="w">                </span><span class="nb">Box</span>::<span class="n">new</span><span class="p">(</span><span class="n">Nil</span><span class="p">)</span>
<span class="w">            </span><span class="p">))</span>
<span class="w">        </span><span class="p">))</span>
<span class="w">    </span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</section>
<section id="deref">
<h3>Deref<a class="headerlink" href="#deref" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>You can customise the behaviour of the dereference operator <code class="docutils literal notranslate"><span class="pre">*</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="id87">
<div class="code-block-caption"><span class="caption-text">Example using deref trait</span><a class="headerlink" href="#id87" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">ops</span>::<span class="n">Deref</span><span class="p">;</span>

<span class="k">struct</span> <span class="nc">MyBox</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">T</span><span class="p">);</span>

<span class="k">impl</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">MyBox</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">new</span><span class="p">(</span><span class="n">x</span>: <span class="nc">T</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">MyBox</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w">  </span><span class="p">{</span>
<span class="w">        </span><span class="n">MyBox</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">impl</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Deref</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">MyBox</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">type</span> <span class="nc">Target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>

<span class="w">    </span><span class="k">fn</span> <span class="nf">deref</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kp">&amp;</span><span class="nc">Self</span>::<span class="n">Target</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Access first value in tuple struct</span>
<span class="w">        </span><span class="o">&amp;</span><span class="bp">self</span><span class="p">.</span><span class="mi">0</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>Now rust will substitute a call to <code class="docutils literal notranslate"><span class="pre">*</span></code> with a call to the deref method.</p>
</section>
<section id="drop-trait">
<h3>Drop Trait<a class="headerlink" href="#drop-trait" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>This trait allows you to cusomtise what happens when a value goes out of scope.</p>
<p>Variables are dropped in reverse order of their creation.</p>
<div class="literal-block-wrapper docutils container" id="id88">
<div class="code-block-caption"><span class="caption-text">Example using drop trait</span><a class="headerlink" href="#id88" title="Permalink to this code">ÔÉÅ</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">impl</span><span class="w"> </span><span class="nb">Drop</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">CustomSmartPointer</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">drop</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">self</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Dropping custom smart pointer with data {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">data</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Drop</span></code> is included in the prelude.</p>
</section>
<section id="rc-t-reference-counted-smart-pointer">
<h3>Rc&lt;T&gt; - Reference Counted Smart Pointer<a class="headerlink" href="#rc-t-reference-counted-smart-pointer" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>This is used when a value might have multiple owners.</p>
<p>The reference counter does this by keeping track of how many owners
are using the reference to the value. Once no more owners need the reference,
the value can be dropped.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Reference counter should only be used in single threaded scenarios</p>
</div>
<p>TBC.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mermaid.html" class="btn btn-neutral float-left" title="üßú‚Äç‚ôÄÔ∏è Mermaid" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Mikkel Caschetto-Bottcher.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>